(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();const Un=!1;var na=Array.isArray,qi=Array.prototype.indexOf,In=Array.from,ja=Object.defineProperty,Tr=Object.getOwnPropertyDescriptor,Ya=Object.getOwnPropertyDescriptors,Gi=Object.prototype,Ji=Array.prototype,aa=Object.getPrototypeOf,_a=Object.isExtensible;const xr=()=>{};function Qi(e){return e()}function En(e){for(var r=0;r<e.length;r++)e[r]()}function Ha(){var e,r,n=new Promise((a,i)=>{e=a,r=i});return{promise:n,resolve:e,reject:r}}const yt=2,Tn=4,hn=8,Ba=1<<24,dr=16,fr=32,Ir=64,ia=128,It=512,ht=1024,_t=2048,Vt=4096,Pt=8192,sr=16384,sa=32768,Fr=65536,ma=1<<17,Fa=1<<18,qr=1<<19,Xa=1<<20,ir=1<<25,Ar=32768,Kn=1<<21,oa=1<<22,_r=1<<23,Pr=Symbol("$state"),es=Symbol("legacy props"),ts=Symbol(""),Wr=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function la(){throw new Error("https://svelte.dev/e/invalid_default_snippet")}function Ua(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function rs(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function ns(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function as(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function is(e){throw new Error("https://svelte.dev/e/effect_orphan")}function ss(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function os(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function ls(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function cs(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function us(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function ds(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const fs=1,vs=2,Ka=4,hs=8,ys=16,gs=2,ps=4,xs=8,Za=1,_s=2,vt=Symbol(),ms="http://www.w3.org/1999/xhtml";function bs(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function za(e){return e===this.v}function Va(e,r){return e!=e?r==r:e!==r||e!==null&&typeof e=="object"||typeof e=="function"}function qa(e){return!Va(e,this.v)}let Gr=!1,ws=!1;function Ls(){Gr=!0}let Je=null;function Xr(e){Je=e}function jt(e,r=!1,n){Je={p:Je,i:!1,c:null,e:null,s:e,x:null,l:Gr&&!r?{s:null,u:null,$:[]}:null}}function Yt(e){var r=Je,n=r.e;if(n!==null){r.e=null;for(var a of n)hi(a)}return e!==void 0&&(r.x=e),r.i=!0,Je=r.p,e??{}}function yn(){return!Gr||Je!==null&&Je.l===null}let Er=[];function Ga(){var e=Er;Er=[],En(e)}function Jr(e){if(Er.length===0&&!ln){var r=Er;queueMicrotask(()=>{r===Er&&Ga()})}Er.push(e)}function Ss(){for(;Er.length>0;)Ga()}function Ja(e){var r=je;if(r===null)return Ce.f|=_r,e;if((r.f&sa)===0){if((r.f&ia)===0)throw e;r.b.error(e)}else Ur(e,r)}function Ur(e,r){for(;r!==null;){if((r.f&ia)!==0)try{r.b.error(e);return}catch(n){e=n}r=r.parent}throw e}const ks=-7169;function lt(e,r){e.f=e.f&ks|r}function ca(e){(e.f&It)!==0||e.deps===null?lt(e,ht):lt(e,Vt)}function Qa(e){if(e!==null)for(const r of e)(r.f&yt)===0||(r.f&Ar)===0||(r.f^=Ar,Qa(r.deps))}function ei(e,r,n){(e.f&_t)!==0?r.add(e):(e.f&Vt)!==0&&n.add(e),Qa(e.deps),lt(e,ht)}const pn=new Set;let Fe=null,kn=null,Ot=null,At=[],On=null,Zn=!1,ln=!1;class Kt{committed=!1;current=new Map;previous=new Map;#t=new Set;#s=new Set;#e=0;#a=0;#i=null;#n=new Set;#r=new Set;skipped_effects=new Set;is_fork=!1;is_deferred(){return this.is_fork||this.#a>0}process(r){At=[],kn=null,this.apply();var n=[],a=[];for(const i of r)this.#o(i,n,a);this.is_fork||this.#c(),this.is_deferred()?(this.#l(a),this.#l(n)):(kn=this,Fe=null,ba(a),ba(n),kn=null,this.#i?.resolve()),Ot=null}#o(r,n,a){r.f^=ht;for(var i=r.first,s=null;i!==null;){var o=i.f,c=(o&(fr|Ir))!==0,l=c&&(o&ht)!==0,d=l||(o&Pt)!==0||this.skipped_effects.has(i);if(!d&&i.fn!==null){c?i.f^=ht:s!==null&&(o&(Tn|hn|Ba))!==0?s.b.defer_effect(i):(o&Tn)!==0?n.push(i):en(i)&&((o&dr)!==0&&this.#n.add(i),Zr(i));var f=i.first;if(f!==null){i=f;continue}}var y=i.parent;for(i=i.next;i===null&&y!==null;)y===s&&(s=null),i=y.next,y=y.parent}}#l(r){for(var n=0;n<r.length;n+=1)ei(r[n],this.#n,this.#r)}capture(r,n){n!==vt&&!this.previous.has(r)&&this.previous.set(r,n),(r.f&_r)===0&&(this.current.set(r,r.v),Ot?.set(r,r.v))}activate(){Fe=this,this.apply()}deactivate(){Fe===this&&(Fe=null,Ot=null)}flush(){if(this.activate(),At.length>0){if(ti(),Fe!==null&&Fe!==this)return}else this.#e===0&&this.process([]);this.deactivate()}discard(){for(const r of this.#s)r(this);this.#s.clear()}#c(){if(this.#a===0){for(const r of this.#t)r();this.#t.clear()}this.#e===0&&this.#u()}#u(){if(pn.size>1){this.previous.clear();var r=Ot,n=!0;for(const i of pn){if(i===this){n=!1;continue}const s=[];for(const[c,l]of this.current){if(i.current.has(c))if(n&&l!==i.current.get(c))i.current.set(c,l);else continue;s.push(c)}if(s.length===0)continue;const o=[...i.current.keys()].filter(c=>!this.current.has(c));if(o.length>0){var a=At;At=[];const c=new Set,l=new Map;for(const d of s)ri(d,o,c,l);if(At.length>0){Fe=i,i.apply();for(const d of At)i.#o(d,[],[]);i.deactivate()}At=a}}Fe=null,Ot=r}this.committed=!0,pn.delete(this)}increment(r){this.#e+=1,r&&(this.#a+=1)}decrement(r){this.#e-=1,r&&(this.#a-=1),this.revive()}revive(){for(const r of this.#n)this.#r.delete(r),lt(r,_t),ur(r);for(const r of this.#r)lt(r,Vt),ur(r);this.flush()}oncommit(r){this.#t.add(r)}ondiscard(r){this.#s.add(r)}settled(){return(this.#i??=Ha()).promise}static ensure(){if(Fe===null){const r=Fe=new Kt;pn.add(Fe),ln||Kt.enqueue(()=>{Fe===r&&r.flush()})}return Fe}static enqueue(r){Jr(r)}apply(){}}function Ms(e){var r=ln;ln=!0;try{for(var n;;){if(Ss(),At.length===0&&(Fe?.flush(),At.length===0))return On=null,n;ti()}}finally{ln=r}}function ti(){var e=Dr;Zn=!0;var r=null;try{var n=0;for($n(!0);At.length>0;){var a=Kt.ensure();if(n++>1e3){var i,s;Es()}a.process(At),mr.clear()}}finally{Zn=!1,$n(e),On=null}}function Es(){try{ss()}catch(e){Ur(e,On)}}let er=null;function ba(e){var r=e.length;if(r!==0){for(var n=0;n<r;){var a=e[n++];if((a.f&(sr|Pt))===0&&en(a)&&(er=new Set,Zr(a),a.deps===null&&a.first===null&&a.nodes===null&&(a.teardown===null&&a.ac===null?pi(a):a.fn=null),er?.size>0)){mr.clear();for(const i of er){if((i.f&(sr|Pt))!==0)continue;const s=[i];let o=i.parent;for(;o!==null;)er.has(o)&&(er.delete(o),s.push(o)),o=o.parent;for(let c=s.length-1;c>=0;c--){const l=s[c];(l.f&(sr|Pt))===0&&Zr(l)}}er.clear()}}er=null}}function ri(e,r,n,a){if(!n.has(e)&&(n.add(e),e.reactions!==null))for(const i of e.reactions){const s=i.f;(s&yt)!==0?ri(i,r,n,a):(s&(oa|dr))!==0&&(s&_t)===0&&ni(i,r,a)&&(lt(i,_t),ur(i))}}function ni(e,r,n){const a=n.get(e);if(a!==void 0)return a;if(e.deps!==null)for(const i of e.deps){if(r.includes(i))return!0;if((i.f&yt)!==0&&ni(i,r,n))return n.set(i,!0),!0}return n.set(e,!1),!1}function ur(e){for(var r=On=e;r.parent!==null;){r=r.parent;var n=r.f;if(Zn&&r===je&&(n&dr)!==0&&(n&Fa)===0)return;if((n&(Ir|fr))!==0){if((n&ht)===0)return;r.f^=ht}}At.push(r)}function Ts(e){let r=0,n=Cr(0),a;return()=>{fa()&&(t(n),Qr(()=>(r===0&&(a=u(()=>e(()=>cn(n)))),r+=1,()=>{Jr(()=>{r-=1,r===0&&(a?.(),a=void 0,cn(n))})})))}}var Ps=Fr|qr|ia;function $s(e,r,n){new Ds(e,r,n)}class Ds{parent;is_pending=!1;#t;#s=null;#e;#a;#i;#n=null;#r=null;#o=null;#l=null;#c=null;#u=0;#d=0;#v=!1;#h=new Set;#y=new Set;#f=null;#m=Ts(()=>(this.#f=Cr(this.#u),()=>{this.#f=null}));constructor(r,n,a){this.#t=r,this.#e=n,this.#a=a,this.parent=je.b,this.is_pending=!!this.#e.pending,this.#i=va(()=>{je.b=this;{var i=this.#x();try{this.#n=Ct(()=>a(i))}catch(s){this.error(s)}this.#d>0?this.#p():this.is_pending=!1}return()=>{this.#c?.remove()}},Ps)}#b(){try{this.#n=Ct(()=>this.#a(this.#t))}catch(r){this.error(r)}}#w(){const r=this.#e.pending;r&&(this.#r=Ct(()=>r(this.#t)),Kt.enqueue(()=>{var n=this.#x();this.#n=this.#g(()=>(Kt.ensure(),Ct(()=>this.#a(n)))),this.#d>0?this.#p():($r(this.#r,()=>{this.#r=null}),this.is_pending=!1)}))}#x(){var r=this.#t;return this.is_pending&&(this.#c=or(),this.#t.before(this.#c),r=this.#c),r}defer_effect(r){ei(r,this.#h,this.#y)}is_rendered(){return!this.is_pending&&(!this.parent||this.parent.is_rendered())}has_pending_snippet(){return!!this.#e.pending}#g(r){var n=je,a=Ce,i=Je;zt(this.#i),bt(this.#i),Xr(this.#i.ctx);try{return r()}catch(s){return Ja(s),null}finally{zt(n),bt(a),Xr(i)}}#p(){const r=this.#e.pending;this.#n!==null&&(this.#l=document.createDocumentFragment(),this.#l.append(this.#c),mi(this.#n,this.#l)),this.#r===null&&(this.#r=Ct(()=>r(this.#t)))}#_(r){if(!this.has_pending_snippet()){this.parent&&this.parent.#_(r);return}if(this.#d+=r,this.#d===0){this.is_pending=!1;for(const n of this.#h)lt(n,_t),ur(n);for(const n of this.#y)lt(n,Vt),ur(n);this.#h.clear(),this.#y.clear(),this.#r&&$r(this.#r,()=>{this.#r=null}),this.#l&&(this.#t.before(this.#l),this.#l=null)}}update_pending_count(r){this.#_(r),this.#u+=r,this.#f&&Kr(this.#f,this.#u)}get_effect_pending(){return this.#m(),t(this.#f)}error(r){var n=this.#e.onerror;let a=this.#e.failed;if(this.#v||!n&&!a)throw r;this.#n&&(wt(this.#n),this.#n=null),this.#r&&(wt(this.#r),this.#r=null),this.#o&&(wt(this.#o),this.#o=null);var i=!1,s=!1;const o=()=>{if(i){bs();return}i=!0,s&&ds(),Kt.ensure(),this.#u=0,this.#o!==null&&$r(this.#o,()=>{this.#o=null}),this.is_pending=this.has_pending_snippet(),this.#n=this.#g(()=>(this.#v=!1,Ct(()=>this.#a(this.#t)))),this.#d>0?this.#p():this.is_pending=!1};var c=Ce;try{bt(null),s=!0,n?.(r,o),s=!1}catch(l){Ur(l,this.#i&&this.#i.parent)}finally{bt(c)}a&&Jr(()=>{this.#o=this.#g(()=>{Kt.ensure(),this.#v=!0;try{return Ct(()=>{a(this.#t,()=>r,()=>o)})}catch(l){return Ur(l,this.#i.parent),null}finally{this.#v=!1}})})}}function Rs(e,r,n,a){const i=yn()?ua:Xe;if(n.length===0&&e.length===0){a(r.map(i));return}var s=Fe,o=je,c=As();function l(){Promise.all(n.map(d=>Cs(d))).then(d=>{c();try{a([...r.map(i),...d])}catch(f){(o.f&sr)===0&&Ur(f,o)}s?.deactivate(),Pn()}).catch(d=>{Ur(d,o)})}e.length>0?Promise.all(e).then(()=>{c();try{return l()}finally{s?.deactivate(),Pn()}}):l()}function As(){var e=je,r=Ce,n=Je,a=Fe;return function(s=!0){zt(e),bt(r),Xr(n),s&&a?.activate()}}function Pn(){zt(null),bt(null),Xr(null)}function ua(e){var r=yt|_t,n=Ce!==null&&(Ce.f&yt)!==0?Ce:null;return je!==null&&(je.f|=qr),{ctx:Je,deps:null,effects:null,equals:za,f:r,fn:e,reactions:null,rv:0,v:vt,wv:0,parent:n??je,ac:null}}function Cs(e,r,n){let a=je;a===null&&rs();var i=a.b,s=void 0,o=Cr(vt),c=!Ce,l=new Map;return Xs(()=>{var d=Ha();s=d.promise;try{Promise.resolve(e()).then(d.resolve,d.reject).then(()=>{f===Fe&&f.committed&&f.deactivate(),Pn()})}catch(h){d.reject(h),Pn()}var f=Fe;if(c){var y=i.is_rendered();i.update_pending_count(1),f.increment(y),l.get(f)?.reject(Wr),l.delete(f),l.set(f,d)}const _=(h,S=void 0)=>{if(f.activate(),S)S!==Wr&&(o.f|=_r,Kr(o,S));else{(o.f&_r)!==0&&(o.f^=_r),Kr(o,h);for(const[E,w]of l){if(l.delete(E),E===f)break;w.reject(Wr)}}c&&(i.update_pending_count(-1),f.decrement(y))};d.promise.then(_,h=>_(null,h||"unknown"))}),Wn(()=>{for(const d of l.values())d.reject(Wr)}),new Promise(d=>{function f(y){function _(){y===s?d(o):f(s)}y.then(_,_)}f(s)})}function Xe(e){const r=ua(e);return r.equals=qa,r}function ai(e){var r=e.effects;if(r!==null){e.effects=null;for(var n=0;n<r.length;n+=1)wt(r[n])}}function Is(e){for(var r=e.parent;r!==null;){if((r.f&yt)===0)return(r.f&sr)===0?r:null;r=r.parent}return null}function da(e){var r,n=je;zt(Is(e));try{e.f&=~Ar,ai(e),r=Si(e)}finally{zt(n)}return r}function ii(e){var r=da(e);if(!e.equals(r)&&(e.wv=wi(),(!Fe?.is_fork||e.deps===null)&&(e.v=r,e.deps===null))){lt(e,ht);return}br||(Ot!==null?(fa()||Fe?.is_fork)&&Ot.set(e,r):ca(e))}let zn=new Set;const mr=new Map;let si=!1;function Cr(e,r){var n={f:0,v:e,reactions:null,equals:za,rv:0,wv:0};return n}function hr(e,r){const n=Cr(e);return Zs(n),n}function D(e,r=!1,n=!0){const a=Cr(e);return r||(a.equals=qa),Gr&&n&&Je!==null&&Je.l!==null&&(Je.l.s??=[]).push(a),a}function m(e,r,n=!1){Ce!==null&&(!Nt||(Ce.f&ma)!==0)&&yn()&&(Ce.f&(yt|dr|oa|ma))!==0&&!lr?.includes(e)&&us();let a=n?jr(r):r;return Kr(e,a)}function Kr(e,r){if(!e.equals(r)){var n=e.v;br?mr.set(e,r):mr.set(e,n),e.v=r;var a=Kt.ensure();if(a.capture(e,n),(e.f&yt)!==0){const i=e;(e.f&_t)!==0&&da(i),ca(i)}e.wv=wi(),oi(e,_t),yn()&&je!==null&&(je.f&ht)!==0&&(je.f&(fr|Ir))===0&&(Rt===null?zs([e]):Rt.push(e)),!a.is_fork&&zn.size>0&&!si&&Os()}return r}function Os(){si=!1;var e=Dr;$n(!0);const r=Array.from(zn);try{for(const n of r)(n.f&ht)!==0&&lt(n,Vt),en(n)&&Zr(n)}finally{$n(e)}zn.clear()}function cn(e){m(e,e.v+1)}function oi(e,r){var n=e.reactions;if(n!==null)for(var a=yn(),i=n.length,s=0;s<i;s++){var o=n[s],c=o.f;if(!(!a&&o===je)){var l=(c&_t)===0;if(l&&lt(o,r),(c&yt)!==0){var d=o;Ot?.delete(d),(c&Ar)===0&&(c&It&&(o.f|=Ar),oi(d,Vt))}else l&&((c&dr)!==0&&er!==null&&er.add(o),ur(o))}}}function jr(e){if(typeof e!="object"||e===null||Pr in e)return e;const r=aa(e);if(r!==Gi&&r!==Ji)return e;var n=new Map,a=na(e),i=hr(0),s=Rr,o=c=>{if(Rr===s)return c();var l=Ce,d=Rr;bt(null),Sa(s);var f=c();return bt(l),Sa(d),f};return a&&n.set("length",hr(e.length)),new Proxy(e,{defineProperty(c,l,d){(!("value"in d)||d.configurable===!1||d.enumerable===!1||d.writable===!1)&&ls();var f=n.get(l);return f===void 0?f=o(()=>{var y=hr(d.value);return n.set(l,y),y}):m(f,d.value,!0),!0},deleteProperty(c,l){var d=n.get(l);if(d===void 0){if(l in c){const f=o(()=>hr(vt));n.set(l,f),cn(i)}}else m(d,vt),cn(i);return!0},get(c,l,d){if(l===Pr)return e;var f=n.get(l),y=l in c;if(f===void 0&&(!y||Tr(c,l)?.writable)&&(f=o(()=>{var h=jr(y?c[l]:vt),S=hr(h);return S}),n.set(l,f)),f!==void 0){var _=t(f);return _===vt?void 0:_}return Reflect.get(c,l,d)},getOwnPropertyDescriptor(c,l){var d=Reflect.getOwnPropertyDescriptor(c,l);if(d&&"value"in d){var f=n.get(l);f&&(d.value=t(f))}else if(d===void 0){var y=n.get(l),_=y?.v;if(y!==void 0&&_!==vt)return{enumerable:!0,configurable:!0,value:_,writable:!0}}return d},has(c,l){if(l===Pr)return!0;var d=n.get(l),f=d!==void 0&&d.v!==vt||Reflect.has(c,l);if(d!==void 0||je!==null&&(!f||Tr(c,l)?.writable)){d===void 0&&(d=o(()=>{var _=f?jr(c[l]):vt,h=hr(_);return h}),n.set(l,d));var y=t(d);if(y===vt)return!1}return f},set(c,l,d,f){var y=n.get(l),_=l in c;if(a&&l==="length")for(var h=d;h<y.v;h+=1){var S=n.get(h+"");S!==void 0?m(S,vt):h in c&&(S=o(()=>hr(vt)),n.set(h+"",S))}if(y===void 0)(!_||Tr(c,l)?.writable)&&(y=o(()=>hr(void 0)),m(y,jr(d)),n.set(l,y));else{_=y.v!==vt;var E=o(()=>jr(d));m(y,E)}var w=Reflect.getOwnPropertyDescriptor(c,l);if(w?.set&&w.set.call(f,d),!_){if(a&&typeof l=="string"){var L=n.get("length"),T=Number(l);Number.isInteger(T)&&T>=L.v&&m(L,T+1)}cn(i)}return!0},ownKeys(c){t(i);var l=Reflect.ownKeys(c).filter(y=>{var _=n.get(y);return _===void 0||_.v!==vt});for(var[d,f]of n)f.v!==vt&&!(d in c)&&l.push(d);return l},setPrototypeOf(){cs()}})}var Yr,li,ci,ui;function Ns(){if(Yr===void 0){Yr=window,li=/Firefox/.test(navigator.userAgent);var e=Element.prototype,r=Node.prototype,n=Text.prototype;ci=Tr(r,"firstChild").get,ui=Tr(r,"nextSibling").get,_a(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),_a(n)&&(n.__t=void 0)}}function or(e=""){return document.createTextNode(e)}function nr(e){return ci.call(e)}function gn(e){return ui.call(e)}function x(e,r){return nr(e)}function me(e,r=!1){{var n=nr(e);return n instanceof Comment&&n.data===""?gn(n):n}}function p(e,r=1,n=!1){let a=e;for(;r--;)a=gn(a);return a}function Ws(e){e.textContent=""}function di(){return!1}let wa=!1;function js(){wa||(wa=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const r of e.target.elements)r.__on_r?.()})},{capture:!0}))}function Nn(e){var r=Ce,n=je;bt(null),zt(null);try{return e()}finally{bt(r),zt(n)}}function fi(e,r,n,a=n){e.addEventListener(r,()=>Nn(n));const i=e.__on_r;i?e.__on_r=()=>{i(),a(!0)}:e.__on_r=()=>a(!0),js()}function vi(e){je===null&&(Ce===null&&is(),as()),br&&ns()}function Ys(e,r){var n=r.last;n===null?r.last=r.first=e:(n.next=e,e.prev=n,r.last=e)}function qt(e,r,n){var a=je;a!==null&&(a.f&Pt)!==0&&(e|=Pt);var i={ctx:Je,deps:null,nodes:null,f:e|_t|It,first:null,fn:r,last:null,next:null,parent:a,b:a&&a.b,prev:null,teardown:null,wv:0,ac:null};if(n)try{Zr(i),i.f|=sa}catch(c){throw wt(i),c}else r!==null&&ur(i);var s=i;if(n&&s.deps===null&&s.teardown===null&&s.nodes===null&&s.first===s.last&&(s.f&qr)===0&&(s=s.first,(e&dr)!==0&&(e&Fr)!==0&&s!==null&&(s.f|=Fr)),s!==null&&(s.parent=a,a!==null&&Ys(s,a),Ce!==null&&(Ce.f&yt)!==0&&(e&Ir)===0)){var o=Ce;(o.effects??=[]).push(s)}return i}function fa(){return Ce!==null&&!Nt}function Wn(e){const r=qt(hn,null,!1);return lt(r,ht),r.teardown=e,r}function Vn(e){vi();var r=je.f,n=!Ce&&(r&fr)!==0&&(r&sa)===0;if(n){var a=Je;(a.e??=[]).push(e)}else return hi(e)}function hi(e){return qt(Tn|Xa,e,!1)}function Hs(e){return vi(),qt(hn|Xa,e,!0)}function Bs(e){Kt.ensure();const r=qt(Ir|qr,e,!0);return(n={})=>new Promise(a=>{n.outro?$r(r,()=>{wt(r),a(void 0)}):(wt(r),a(void 0))})}function Fs(e){return qt(Tn,e,!1)}function ee(e,r){var n=Je,a={effect:null,ran:!1,deps:e};n.l.$.push(a),a.effect=Qr(()=>{e(),!a.ran&&(a.ran=!0,u(r))})}function wr(){var e=Je;Qr(()=>{for(var r of e.l.$){r.deps();var n=r.effect;(n.f&ht)!==0&&n.deps!==null&&lt(n,Vt),en(n)&&Zr(n),r.ran=!1}})}function Xs(e){return qt(oa|qr,e,!0)}function Qr(e,r=0){return qt(hn|r,e,!0)}function W(e,r=[],n=[],a=[]){Rs(a,r,n,i=>{qt(hn,()=>e(...i.map(t)),!0)})}function va(e,r=0){var n=qt(dr|r,e,!0);return n}function Ct(e){return qt(fr|qr,e,!0)}function yi(e){var r=e.teardown;if(r!==null){const n=br,a=Ce;La(!0),bt(null);try{r.call(null)}finally{La(n),bt(a)}}}function gi(e,r=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const i=n.ac;i!==null&&Nn(()=>{i.abort(Wr)});var a=n.next;(n.f&Ir)!==0?n.parent=null:wt(n,r),n=a}}function Us(e){for(var r=e.first;r!==null;){var n=r.next;(r.f&fr)===0&&wt(r),r=n}}function wt(e,r=!0){var n=!1;(r||(e.f&Fa)!==0)&&e.nodes!==null&&e.nodes.end!==null&&(Ks(e.nodes.start,e.nodes.end),n=!0),gi(e,r&&!n),Dn(e,0),lt(e,sr);var a=e.nodes&&e.nodes.t;if(a!==null)for(const s of a)s.stop();yi(e);var i=e.parent;i!==null&&i.first!==null&&pi(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes=e.ac=null}function Ks(e,r){for(;e!==null;){var n=e===r?null:gn(e);e.remove(),e=n}}function pi(e){var r=e.parent,n=e.prev,a=e.next;n!==null&&(n.next=a),a!==null&&(a.prev=n),r!==null&&(r.first===e&&(r.first=a),r.last===e&&(r.last=n))}function $r(e,r,n=!0){var a=[];xi(e,a,!0);var i=()=>{n&&wt(e),r&&r()},s=a.length;if(s>0){var o=()=>--s||i();for(var c of a)c.out(o)}else i()}function xi(e,r,n){if((e.f&Pt)===0){e.f^=Pt;var a=e.nodes&&e.nodes.t;if(a!==null)for(const c of a)(c.is_global||n)&&r.push(c);for(var i=e.first;i!==null;){var s=i.next,o=(i.f&Fr)!==0||(i.f&fr)!==0&&(e.f&dr)!==0;xi(i,r,o?n:!1),i=s}}}function ha(e){_i(e,!0)}function _i(e,r){if((e.f&Pt)!==0){e.f^=Pt,(e.f&ht)===0&&(lt(e,_t),ur(e));for(var n=e.first;n!==null;){var a=n.next,i=(n.f&Fr)!==0||(n.f&fr)!==0;_i(n,i?r:!1),n=a}var s=e.nodes&&e.nodes.t;if(s!==null)for(const o of s)(o.is_global||r)&&o.in()}}function mi(e,r){if(e.nodes)for(var n=e.nodes.start,a=e.nodes.end;n!==null;){var i=n===a?null:gn(n);r.append(n),n=i}}let Dr=!1;function $n(e){Dr=e}let br=!1;function La(e){br=e}let Ce=null,Nt=!1;function bt(e){Ce=e}let je=null;function zt(e){je=e}let lr=null;function Zs(e){Ce!==null&&(lr===null?lr=[e]:lr.push(e))}let xt=null,Et=0,Rt=null;function zs(e){Rt=e}let bi=1,fn=0,Rr=fn;function Sa(e){Rr=e}function wi(){return++bi}function en(e){var r=e.f;if((r&_t)!==0)return!0;if(r&yt&&(e.f&=~Ar),(r&Vt)!==0){for(var n=e.deps,a=n.length,i=0;i<a;i++){var s=n[i];if(en(s)&&ii(s),s.wv>e.wv)return!0}(r&It)!==0&&Ot===null&&lt(e,ht)}return!1}function Li(e,r,n=!0){var a=e.reactions;if(a!==null&&!lr?.includes(e))for(var i=0;i<a.length;i++){var s=a[i];(s.f&yt)!==0?Li(s,r,!1):r===s&&(n?lt(s,_t):(s.f&ht)!==0&&lt(s,Vt),ur(s))}}function Si(e){var r=xt,n=Et,a=Rt,i=Ce,s=lr,o=Je,c=Nt,l=Rr,d=e.f;xt=null,Et=0,Rt=null,Ce=(d&(fr|Ir))===0?e:null,lr=null,Xr(e.ctx),Nt=!1,Rr=++fn,e.ac!==null&&(Nn(()=>{e.ac.abort(Wr)}),e.ac=null);try{e.f|=Kn;var f=e.fn,y=f(),_=e.deps;if(xt!==null){var h;if(Dn(e,Et),_!==null&&Et>0)for(_.length=Et+xt.length,h=0;h<xt.length;h++)_[Et+h]=xt[h];else e.deps=_=xt;if(fa()&&(e.f&It)!==0)for(h=Et;h<_.length;h++)(_[h].reactions??=[]).push(e)}else _!==null&&Et<_.length&&(Dn(e,Et),_.length=Et);if(yn()&&Rt!==null&&!Nt&&_!==null&&(e.f&(yt|Vt|_t))===0)for(h=0;h<Rt.length;h++)Li(Rt[h],e);return i!==null&&i!==e&&(fn++,Rt!==null&&(a===null?a=Rt:a.push(...Rt))),(e.f&_r)!==0&&(e.f^=_r),y}catch(S){return Ja(S)}finally{e.f^=Kn,xt=r,Et=n,Rt=a,Ce=i,lr=s,Xr(o),Nt=c,Rr=l}}function Vs(e,r){let n=r.reactions;if(n!==null){var a=qi.call(n,e);if(a!==-1){var i=n.length-1;i===0?n=r.reactions=null:(n[a]=n[i],n.pop())}}if(n===null&&(r.f&yt)!==0&&(xt===null||!xt.includes(r))){var s=r;(s.f&It)!==0&&(s.f^=It,s.f&=~Ar),ca(s),ai(s),Dn(s,0)}}function Dn(e,r){var n=e.deps;if(n!==null)for(var a=r;a<n.length;a++)Vs(e,n[a])}function Zr(e){var r=e.f;if((r&sr)===0){lt(e,ht);var n=je,a=Dr;je=e,Dr=!0;try{(r&(dr|Ba))!==0?Us(e):gi(e),yi(e);var i=Si(e);e.teardown=typeof i=="function"?i:null,e.wv=bi;var s;Un&&ws&&(e.f&_t)!==0&&e.deps}finally{Dr=a,je=n}}}async function qs(){await Promise.resolve(),Ms()}function t(e){var r=e.f,n=(r&yt)!==0;if(Ce!==null&&!Nt){var a=je!==null&&(je.f&sr)!==0;if(!a&&!lr?.includes(e)){var i=Ce.deps;if((Ce.f&Kn)!==0)e.rv<fn&&(e.rv=fn,xt===null&&i!==null&&i[Et]===e?Et++:xt===null?xt=[e]:xt.includes(e)||xt.push(e));else{(Ce.deps??=[]).push(e);var s=e.reactions;s===null?e.reactions=[Ce]:s.includes(Ce)||s.push(Ce)}}}if(br&&mr.has(e))return mr.get(e);if(n){var o=e;if(br){var c=o.v;return((o.f&ht)===0&&o.reactions!==null||Mi(o))&&(c=da(o)),mr.set(o,c),c}var l=(o.f&It)===0&&!Nt&&Ce!==null&&(Dr||(Ce.f&It)!==0),d=o.deps===null;en(o)&&(l&&(o.f|=It),ii(o)),l&&!d&&ki(o)}if(Ot?.has(e))return Ot.get(e);if((e.f&_r)!==0)throw e.v;return e.v}function ki(e){if(e.deps!==null){e.f|=It;for(const r of e.deps)(r.reactions??=[]).push(e),(r.f&yt)!==0&&(r.f&It)===0&&ki(r)}}function Mi(e){if(e.v===vt)return!0;if(e.deps===null)return!1;for(const r of e.deps)if(mr.has(r)||(r.f&yt)!==0&&Mi(r))return!0;return!1}function u(e){var r=Nt;try{return Nt=!0,e()}finally{Nt=r}}function j(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Pr in e)qn(e);else if(!Array.isArray(e))for(let r in e){const n=e[r];typeof n=="object"&&n&&Pr in n&&qn(n)}}}function qn(e,r=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!r.has(e)){r.add(e),e instanceof Date&&e.getTime();for(let a in e)try{qn(e[a],r)}catch{}const n=aa(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const a=Ya(n);for(let i in a){const s=a[i].get;if(s)try{s.call(e)}catch{}}}}}const Gs=["touchstart","touchmove"];function Js(e){return Gs.includes(e)}const Qs=new Set,ka=new Set;function eo(e,r,n,a={}){function i(s){if(a.capture||rn.call(r,s),!s.cancelBubble)return Nn(()=>n?.call(this,s))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Jr(()=>{r.addEventListener(e,i,a)}):r.addEventListener(e,i,a),i}function X(e,r,n,a,i){var s={capture:a,passive:i},o=eo(e,r,n,s);(r===document.body||r===window||r===document||r instanceof HTMLMediaElement)&&Wn(()=>{r.removeEventListener(e,o,s)})}let Ma=null;function rn(e){var r=this,n=r.ownerDocument,a=e.type,i=e.composedPath?.()||[],s=i[0]||e.target;Ma=e;var o=0,c=Ma===e&&e.__root;if(c){var l=i.indexOf(c);if(l!==-1&&(r===document||r===window)){e.__root=r;return}var d=i.indexOf(r);if(d===-1)return;l<=d&&(o=l)}if(s=i[o]||e.target,s!==r){ja(e,"currentTarget",{configurable:!0,get(){return s||n}});var f=Ce,y=je;bt(null),zt(null);try{for(var _,h=[];s!==null;){var S=s.assignedSlot||s.parentNode||s.host||null;try{var E=s["__"+a];E!=null&&(!s.disabled||e.target===s)&&E.call(s,e)}catch(w){_?h.push(w):_=w}if(e.cancelBubble||S===r||S===null)break;s=S}if(_){for(let w of h)queueMicrotask(()=>{throw w});throw _}}finally{e.__root=r,delete e.currentTarget,bt(f),zt(y)}}}function Ei(e){var r=document.createElement("template");return r.innerHTML=e.replaceAll("<!>","<!---->"),r.content}function zr(e,r){var n=je;n.nodes===null&&(n.nodes={start:e,end:r,a:null,t:null})}function se(e,r){var n=(r&Za)!==0,a=(r&_s)!==0,i,s=!e.startsWith("<!>");return()=>{i===void 0&&(i=Ei(s?e:"<!>"+e),n||(i=nr(i)));var o=a||li?document.importNode(i,!0):i.cloneNode(!0);if(n){var c=nr(o),l=o.lastChild;zr(c,l)}else zr(o,o);return o}}function to(e,r,n="svg"){var a=!e.startsWith("<!>"),i=(r&Za)!==0,s=`<${n}>${a?e:"<!>"+e}</${n}>`,o;return()=>{if(!o){var c=Ei(s),l=nr(c);if(i)for(o=document.createDocumentFragment();nr(l);)o.appendChild(nr(l));else o=nr(l)}var d=o.cloneNode(!0);if(i){var f=nr(d),y=d.lastChild;zr(f,y)}else zr(d,d);return d}}function ue(e,r){return to(e,r,"svg")}function Ti(e=""){{var r=or(e+"");return zr(r,r),r}}function et(){var e=document.createDocumentFragment(),r=document.createComment(""),n=or();return e.append(r,n),zr(r,n),e}function b(e,r){e!==null&&e.before(r)}function Ee(e,r){var n=r==null?"":typeof r=="object"?r+"":r;n!==(e.__t??=e.nodeValue)&&(e.__t=n,e.nodeValue=n+"")}function ro(e,r){return no(e,r)}const Or=new Map;function no(e,{target:r,anchor:n,props:a={},events:i,context:s,intro:o=!0}){Ns();var c=new Set,l=y=>{for(var _=0;_<y.length;_++){var h=y[_];if(!c.has(h)){c.add(h);var S=Js(h);r.addEventListener(h,rn,{passive:S});var E=Or.get(h);E===void 0?(document.addEventListener(h,rn,{passive:S}),Or.set(h,1)):Or.set(h,E+1)}}};l(In(Qs)),ka.add(l);var d=void 0,f=Bs(()=>{var y=n??r.appendChild(or());return $s(y,{pending:()=>{}},_=>{if(s){jt({});var h=Je;h.c=s}i&&(a.$$events=i),d=e(_,a)||{},s&&Yt()}),()=>{for(var _ of c){r.removeEventListener(_,rn);var h=Or.get(_);--h===0?(document.removeEventListener(_,rn),Or.delete(_)):Or.set(_,h)}ka.delete(l),y!==n&&y.parentNode?.removeChild(y)}});return ao.set(d,f),d}let ao=new WeakMap;class io{anchor;#t=new Map;#s=new Map;#e=new Map;#a=new Set;#i=!0;constructor(r,n=!0){this.anchor=r,this.#i=n}#n=()=>{var r=Fe;if(this.#t.has(r)){var n=this.#t.get(r),a=this.#s.get(n);if(a)ha(a),this.#a.delete(n);else{var i=this.#e.get(n);i&&(this.#s.set(n,i.effect),this.#e.delete(n),i.fragment.lastChild.remove(),this.anchor.before(i.fragment),a=i.effect)}for(const[s,o]of this.#t){if(this.#t.delete(s),s===r)break;const c=this.#e.get(o);c&&(wt(c.effect),this.#e.delete(o))}for(const[s,o]of this.#s){if(s===n||this.#a.has(s))continue;const c=()=>{if(Array.from(this.#t.values()).includes(s)){var d=document.createDocumentFragment();mi(o,d),d.append(or()),this.#e.set(s,{effect:o,fragment:d})}else wt(o);this.#a.delete(s),this.#s.delete(s)};this.#i||!a?(this.#a.add(s),$r(o,c,!1)):c()}}};#r=r=>{this.#t.delete(r);const n=Array.from(this.#t.values());for(const[a,i]of this.#e)n.includes(a)||(wt(i.effect),this.#e.delete(a))};ensure(r,n){var a=Fe,i=di();if(n&&!this.#s.has(r)&&!this.#e.has(r))if(i){var s=document.createDocumentFragment(),o=or();s.append(o),this.#e.set(r,{effect:Ct(()=>n(o)),fragment:s})}else this.#s.set(r,Ct(()=>n(this.anchor)));if(this.#t.set(a,r),i){for(const[c,l]of this.#s)c===r?a.skipped_effects.delete(l):a.skipped_effects.add(l);for(const[c,l]of this.#e)c===r?a.skipped_effects.delete(l.effect):a.skipped_effects.add(l.effect);a.oncommit(this.#n),a.ondiscard(this.#r)}else this.#n()}}function ce(e,r,n=!1){var a=new io(e),i=n?Fr:0;function s(o,c){a.ensure(o,c)}va(()=>{var o=!1;r((c,l=!0)=>{o=!0,s(l,c)}),o||s(!1,null)},i)}function Ne(e,r){return r}function so(e,r,n){for(var a=[],i=r.length,s,o=r.length,c=0;c<i;c++){let y=r[c];$r(y,()=>{if(s){if(s.pending.delete(y),s.done.add(y),s.pending.size===0){var _=e.outrogroups;Gn(In(s.done)),_.delete(s),_.size===0&&(e.outrogroups=null)}}else o-=1},!1)}if(o===0){var l=a.length===0&&n!==null;if(l){var d=n,f=d.parentNode;Ws(f),f.append(d),e.items.clear()}Gn(r,!l)}else s={pending:new Set(r),done:new Set},(e.outrogroups??=new Set).add(s)}function Gn(e,r=!0){for(var n=0;n<e.length;n++)wt(e[n],r)}var Ea;function Le(e,r,n,a,i,s=null){var o=e,c=new Map,l=(r&Ka)!==0;if(l){var d=e;o=d.appendChild(or())}var f=null,y=Xe(()=>{var L=n();return na(L)?L:L==null?[]:In(L)}),_,h=!0;function S(){w.fallback=f,oo(w,_,o,r,a),f!==null&&(_.length===0?(f.f&ir)===0?ha(f):(f.f^=ir,nn(f,null,o)):$r(f,()=>{f=null}))}var E=va(()=>{_=t(y);for(var L=_.length,T=new Set,C=Fe,G=di(),ne=0;ne<L;ne+=1){var ke=_[ne],oe=a(ke,ne),N=h?null:c.get(oe);N?(N.v&&Kr(N.v,ke),N.i&&Kr(N.i,ne),G&&C.skipped_effects.delete(N.e)):(N=lo(c,h?o:Ea??=or(),ke,oe,ne,i,r,n),h||(N.e.f|=ir),c.set(oe,N)),T.add(oe)}if(L===0&&s&&!f&&(h?f=Ct(()=>s(o)):(f=Ct(()=>s(Ea??=or())),f.f|=ir)),!h)if(G){for(const[he,ae]of c)T.has(he)||C.skipped_effects.add(ae.e);C.oncommit(S),C.ondiscard(()=>{})}else S();t(y)}),w={effect:E,items:c,outrogroups:null,fallback:f};h=!1}function oo(e,r,n,a,i){var s=(a&hs)!==0,o=r.length,c=e.items,l=e.effect.first,d,f=null,y,_=[],h=[],S,E,w,L;if(s)for(L=0;L<o;L+=1)S=r[L],E=i(S,L),w=c.get(E).e,(w.f&ir)===0&&(w.nodes?.a?.measure(),(y??=new Set).add(w));for(L=0;L<o;L+=1){if(S=r[L],E=i(S,L),w=c.get(E).e,e.outrogroups!==null)for(const ae of e.outrogroups)ae.pending.delete(w),ae.done.delete(w);if((w.f&ir)!==0)if(w.f^=ir,w===l)nn(w,null,n);else{var T=f?f.next:l;w===e.effect.last&&(e.effect.last=w.prev),w.prev&&(w.prev.next=w.next),w.next&&(w.next.prev=w.prev),yr(e,f,w),yr(e,w,T),nn(w,T,n),f=w,_=[],h=[],l=f.next;continue}if((w.f&Pt)!==0&&(ha(w),s&&(w.nodes?.a?.unfix(),(y??=new Set).delete(w))),w!==l){if(d!==void 0&&d.has(w)){if(_.length<h.length){var C=h[0],G;f=C.prev;var ne=_[0],ke=_[_.length-1];for(G=0;G<_.length;G+=1)nn(_[G],C,n);for(G=0;G<h.length;G+=1)d.delete(h[G]);yr(e,ne.prev,ke.next),yr(e,f,ne),yr(e,ke,C),l=C,f=ke,L-=1,_=[],h=[]}else d.delete(w),nn(w,l,n),yr(e,w.prev,w.next),yr(e,w,f===null?e.effect.first:f.next),yr(e,f,w),f=w;continue}for(_=[],h=[];l!==null&&l!==w;)(d??=new Set).add(l),h.push(l),l=l.next;if(l===null)continue}(w.f&ir)===0&&_.push(w),f=w,l=w.next}if(e.outrogroups!==null){for(const ae of e.outrogroups)ae.pending.size===0&&(Gn(In(ae.done)),e.outrogroups?.delete(ae));e.outrogroups.size===0&&(e.outrogroups=null)}if(l!==null||d!==void 0){var oe=[];if(d!==void 0)for(w of d)(w.f&Pt)===0&&oe.push(w);for(;l!==null;)(l.f&Pt)===0&&l!==e.fallback&&oe.push(l),l=l.next;var N=oe.length;if(N>0){var he=(a&Ka)!==0&&o===0?n:null;if(s){for(L=0;L<N;L+=1)oe[L].nodes?.a?.measure();for(L=0;L<N;L+=1)oe[L].nodes?.a?.fix()}so(e,oe,he)}}s&&Jr(()=>{if(y!==void 0)for(w of y)w.nodes?.a?.apply()})}function lo(e,r,n,a,i,s,o,c){var l=(o&fs)!==0?(o&ys)===0?D(n,!1,!1):Cr(n):null,d=(o&vs)!==0?Cr(i):null;return{v:l,i:d,e:Ct(()=>(s(r,l??n,d??i,c),()=>{e.delete(a)}))}}function nn(e,r,n){if(e.nodes)for(var a=e.nodes.start,i=e.nodes.end,s=r&&(r.f&ir)===0?r.nodes.start:n;a!==null;){var o=gn(a);if(s.before(a),a===i)return;a=o}}function yr(e,r,n){r===null?e.effect.first=n:r.next=n,n===null?e.effect.last=r:n.prev=r}function Pi(e,r,n,a,i){var s=r.$$slots?.[n],o=!1;s===!0&&(s=r.children,o=!0),s===void 0||s(e,o?()=>a:a)}const Ta=[...` 	
\r\fÂ \v\uFEFF`];function co(e,r,n){var a=e==null?"":""+e;if(n){for(var i in n)if(n[i])a=a?a+" "+i:i;else if(a.length)for(var s=i.length,o=0;(o=a.indexOf(i,o))>=0;){var c=o+s;(o===0||Ta.includes(a[o-1]))&&(c===a.length||Ta.includes(a[c]))?a=(o===0?"":a.substring(0,o))+a.substring(c+1):o=c}}return a===""?null:a}function uo(e,r){return e==null?null:String(e)}function Zt(e,r,n,a,i,s){var o=e.__className;if(o!==n||o===void 0){var c=co(n,a,s);c==null?e.removeAttribute("class"):r?e.className=c:e.setAttribute("class",c),e.__className=n}else if(s&&i!==s)for(var l in s){var d=!!s[l];(i==null||d!==!!i[l])&&e.classList.toggle(l,d)}return s}function fo(e,r,n,a){var i=e.__style;if(i!==r){var s=uo(r);s==null?e.removeAttribute("style"):e.style.cssText=s,e.__style=r}return a}const vo=Symbol("is custom element"),ho=Symbol("is html");function yo(e,r){var n=$i(e);n.value===(n.value=r??void 0)||e.value===r&&(r!==0||e.nodeName!=="PROGRESS")||(e.value=r??"")}function v(e,r,n,a){var i=$i(e);i[r]!==(i[r]=n)&&(r==="loading"&&(e[ts]=n),n==null?e.removeAttribute(r):typeof n!="string"&&go(e).includes(r)?e[r]=n:e.setAttribute(r,n))}function $i(e){return e.__attributes??={[vo]:e.nodeName.includes("-"),[ho]:e.namespaceURI===ms}}var Pa=new Map;function go(e){var r=e.getAttribute("is")||e.nodeName,n=Pa.get(r);if(n)return n;Pa.set(r,n=[]);for(var a,i=e,s=Element.prototype;s!==i;){a=Ya(i);for(var o in a)a[o].set&&n.push(o);i=aa(i)}return n}function un(e,r,n=r){var a=new WeakSet;fi(e,"input",async i=>{var s=i?e.defaultValue:e.value;if(s=Fn(e)?Xn(s):s,n(s),Fe!==null&&a.add(Fe),await qs(),s!==(s=r())){var o=e.selectionStart,c=e.selectionEnd,l=e.value.length;if(e.value=s??"",c!==null){var d=e.value.length;o===c&&c===l&&d>l?(e.selectionStart=d,e.selectionEnd=d):(e.selectionStart=o,e.selectionEnd=Math.min(c,d))}}}),u(r)==null&&e.value&&(n(Fn(e)?Xn(e.value):e.value),Fe!==null&&a.add(Fe)),Qr(()=>{var i=r();if(e===document.activeElement){var s=kn??Fe;if(a.has(s))return}Fn(e)&&i===Xn(e.value)||e.type==="date"&&!i&&!e.value||i!==e.value&&(e.value=i??"")})}function an(e,r,n=r){fi(e,"change",a=>{var i=a?e.defaultChecked:e.checked;n(i)}),u(r)==null&&n(e.checked),Qr(()=>{var a=r();e.checked=!!a})}function Fn(e){var r=e.type;return r==="number"||r==="range"}function Xn(e){return e===""?null:+e}function po(e,r,n){var a=Tr(e,r);a&&a.set&&(e[r]=n,Wn(()=>{e[r]=null}))}function $a(e,r){return e===r||e?.[Pr]===r}function Di(e={},r,n,a){return Fs(()=>{var i,s;return Qr(()=>{i=s,s=[],u(()=>{e!==n(...s)&&(r(e,...s),i&&$a(n(...i),e)&&r(null,...i))})}),()=>{Jr(()=>{s&&$a(n(...s),e)&&r(null,...s)})}}),e}function Da(e){return function(...r){var n=r[0];return n.stopPropagation(),e?.apply(this,r)}}function Gt(e=!1){const r=Je,n=r.l.u;if(!n)return;let a=()=>j(r.s);if(e){let i=0,s={};const o=ua(()=>{let c=!1;const l=r.s;for(const d in l)l[d]!==s[d]&&(s[d]=l[d],c=!0);return c&&i++,i});a=()=>t(o)}n.b.length&&Hs(()=>{Ra(r,a),En(n.b)}),Vn(()=>{const i=u(()=>n.m.map(Qi));return()=>{for(const s of i)typeof s=="function"&&s()}}),n.a.length&&Vn(()=>{Ra(r,a),En(n.a)})}function Ra(e,r){if(e.l.s)for(const n of e.l.s)t(n);r()}function Aa(e,r){var n=e.$$events?.[r.type],a=na(n)?n.slice():n==null?[]:[n];for(var i of a)i.call(this,r)}function ya(e,r,n){if(e==null)return r(void 0),n&&n(void 0),xr;const a=u(()=>e.subscribe(r,n));return a.unsubscribe?()=>a.unsubscribe():a}const Nr=[];function xo(e,r){return{subscribe:ct(e,r).subscribe}}function ct(e,r=xr){let n=null;const a=new Set;function i(c){if(Va(e,c)&&(e=c,n)){const l=!Nr.length;for(const d of a)d[1](),Nr.push(d,e);if(l){for(let d=0;d<Nr.length;d+=2)Nr[d][0](Nr[d+1]);Nr.length=0}}}function s(c){i(c(e))}function o(c,l=xr){const d=[c,l];return a.add(d),a.size===1&&(n=r(i,s)||xr),c(e),()=>{a.delete(d),a.size===0&&n&&(n(),n=null)}}return{set:i,update:s,subscribe:o}}function Lr(e,r,n){const a=!Array.isArray(e),i=a?[e]:e;if(!i.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const s=r.length<2;return xo(n,(o,c)=>{let l=!1;const d=[];let f=0,y=xr;const _=()=>{if(f)return;y();const S=r(a?d[0]:d,o,c);s?o(S):y=typeof S=="function"?S:xr},h=i.map((S,E)=>ya(S,w=>{d[E]=w,f&=~(1<<E),l&&_()},()=>{f|=1<<E}));return l=!0,_(),function(){En(h),y(),l=!1}})}function cr(e){let r;return ya(e,n=>r=n)(),r}let xn=!1,Jn=Symbol();function qe(e,r,n){const a=n[r]??={store:null,source:D(void 0),unsubscribe:xr};if(a.store!==e&&!(Jn in n))if(a.unsubscribe(),a.store=e??null,e==null)a.source.v=void 0,a.unsubscribe=xr;else{var i=!0;a.unsubscribe=ya(e,s=>{i?a.source.v=s:m(a.source,s)}),i=!1}return e&&Jn in n?cr(e):t(a.source)}function _o(e,r){return e.set(r),r}function jn(){const e={};function r(){Wn(()=>{for(var n in e)e[n].unsubscribe();ja(e,Jn,{enumerable:!1,value:!0})})}return[e,r]}function mo(e){var r=xn;try{return xn=!1,[e(),xn]}finally{xn=r}}function _e(e,r,n,a){var i=!Gr||(n&gs)!==0,s=(n&xs)!==0,o=a,c=!0,l=()=>(c&&(c=!1,o=a),o),d;{var f=Pr in e||es in e;d=Tr(e,r)?.set??(f&&r in e?T=>e[r]=T:void 0)}var y,_=!1;[y,_]=mo(()=>e[r]),y===void 0&&a!==void 0&&(y=l(),d&&(i&&os(),d(y)));var h;if(i?h=()=>{var T=e[r];return T===void 0?l():(c=!0,T)}:h=()=>{var T=e[r];return T!==void 0&&(o=void 0),T===void 0?o:T},i&&(n&ps)===0)return h;if(d){var S=e.$$legacy;return(function(T,C){return arguments.length>0?((!i||!C||S||_)&&d(C?h():T),T):h()})}var E=!1,w=Xe(()=>(E=!1,h()));t(w);var L=je;return(function(T,C){if(arguments.length>0){const G=C?t(w):i&&s?jr(T):T;return m(w,G),E=!0,o!==void 0&&(o=G),T}return br&&E||(L.f&sr)!==0?w.v:t(w)})}function tn(e){Je===null&&Ua(),Gr&&Je.l!==null?bo(Je).m.push(e):Vn(()=>{const r=u(e);if(typeof r=="function")return r})}function Ri(e){Je===null&&Ua(),tn(()=>()=>u(e))}function bo(e){var r=e.l;return r.u??={a:[],b:[],m:[]}}const wo="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(wo);Ls();function Lo(e,r,n,a){const i=Hr(n,a,e),s=Hr(n,a,r),o=Hr(e,r,n),c=Hr(e,r,a);return!!((i>0&&s<0||i<0&&s>0)&&(o>0&&c<0||o<0&&c>0)||i===0&&_n(n,a,e)||s===0&&_n(n,a,r)||o===0&&_n(e,r,n)||c===0&&_n(e,r,a))}function Hr(e,r,n){return(n.x-e.x)*(r.y-e.y)-(r.x-e.x)*(n.y-e.y)}function _n(e,r,n){return Math.min(e.x,r.x)<=n.x&&n.x<=Math.max(e.x,r.x)&&Math.min(e.y,r.y)<=n.y&&n.y<=Math.max(e.y,r.y)}function Ca(e,r,n,a=16){const i=[];for(let s=0;s<a;s++){const o=2*Math.PI*s/a;i.push({x:e+n*Math.cos(o),y:r+n*Math.sin(o)})}return i}function So(e,r,n,a,i=0,s=16){const o=[],c=2*(n+a),l=i*Math.PI/180,d=Math.cos(l),f=Math.sin(l),y=s/c,_=Math.max(1,Math.round(n*y)),h=Math.max(1,Math.round(a*y)),S=n/2,E=a/2,w=[];for(let L=0;L<_;L++){const T=L/_;w.push({x:-S+n*T,y:-E})}for(let L=0;L<h;L++){const T=L/h;w.push({x:S,y:-E+a*T})}for(let L=0;L<_;L++){const T=L/_;w.push({x:S-n*T,y:E})}for(let L=0;L<h;L++){const T=L/h;w.push({x:-S,y:E-a*T})}for(const L of w)o.push({x:e+L.x*d-L.y*f,y:r+L.x*f+L.y*d});if(o.length>s){const L=[],T=o.length/s;for(let C=0;C<s;C++)L.push(o[Math.floor(C*T)]);return L}return o}function ko(e,r,n,a,i=0,s=16){const o=[],c=i*Math.PI/180,l=Math.cos(c),d=Math.sin(c);for(let f=0;f<s;f++){const y=2*Math.PI*f/s,_=n*Math.cos(y),h=a*Math.sin(y);o.push({x:e+_*l-h*d,y:r+_*d+h*l})}return o}function Ia(e,r,n){const a=n.length;for(let i=0;i<a;i++){const s=n[i],o=n[(i+1)%a];if(Lo(e,r,s,o))return!0}return!1}function Ai(e,r,n){const a=n*Math.PI/180,i=Math.cos(a),s=Math.sin(a),o=e.x-r.x,c=e.y-r.y;return{x:r.x+o*i-c*s,y:r.y+o*s+c*i}}function Ci(e){return{x:e.x+e.width/2,y:e.y+e.height/2}}function vn(e){const r=Ci(e),n=e.rotation||0;return[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}].map(i=>Ai(i,r,n))}function Mo(e){const i=e.x,s=e.y+e.height;return[{x:i,y:s},{x:i,y:s-8},{x:i+.5,y:s-8},{x:i+.5,y:s-.5},{x:i+4,y:s-.5},{x:i+4,y:s}]}function Eo(e){const r=Mo(e),n=Ci(e),a=e.rotation||0;return r.map(i=>Ai(i,n,a))}function To(e,r,n,a,i=.01){const s=Math.abs(Hr(e,r,n)),o=Math.abs(Hr(e,r,a)),c=Math.sqrt((r.x-e.x)**2+(r.y-e.y)**2),l=i*c;if(s>l||o>l)return!1;const d=r.x-e.x,f=r.y-e.y,y=Math.sqrt(d*d+f*f);if(y<i)return!1;const _=d/y,h=f/y,S=0,E=y,w=(n.x-e.x)*_+(n.y-e.y)*h,L=(a.x-e.x)*_+(a.y-e.y)*h,T=Math.min(S,E),C=Math.max(S,E),G=Math.min(w,L),ne=Math.max(w,L),ke=Math.max(T,G);return Math.min(C,ne)-ke>i}function Po(e,r,n=.1){const a=e.length,i=r.length;for(let s=0;s<a;s++){const o=e[s],c=e[(s+1)%a];for(let l=0;l<i;l++){const d=r[l],f=r[(l+1)%i];if(To(o,c,d,f,n))return!0}}return!1}function $o(e){const r=e.length;if(r===0)return new Map;const n=Array.from({length:r},(c,l)=>l);function a(c){return n[c]!==c&&(n[c]=a(n[c])),n[c]}function i(c,l){const d=a(c),f=a(l);d!==f&&(n[d]=f)}for(let c=0;c<r;c++)for(let l=c+1;l<r;l++)Po(e[c].vertices,e[l].vertices)&&i(c,l);const s=new Map;e.forEach((c,l)=>s.set(c.id,l));const o=new Map;return e.forEach((c,l)=>{o.set(c.id,a(l))}),o}function Do(e,r,n){const a=r.get(e);return a===void 0?[e]:n.filter(i=>r.get(i.id)===a).map(i=>i.id)}const mn=16;function Qn(e){return e.isRectangle&&e.width!==void 0&&e.height!==void 0?So(e.x,e.y,e.width,e.height,e.rotation||0,mn):e.radius!==void 0?Ca(e.x,e.y,e.radius,mn):e.rx!==void 0&&e.ry!==void 0?ko(e.x,e.y,e.rx,e.ry,e.rotation||0,mn):Ca(e.x,e.y,.5,mn)}function Oa(e,r){const n=Qn(e);for(const a of n)if(Na(a,r))return!0;return!!Na({x:e.x,y:e.y},r)}function Na(e,r){const n=r.length;let a=null;for(let i=0;i<n;i++){const s=r[i],o=r[(i+1)%n],c=(o.x-s.x)*(e.y-s.y)-(o.y-s.y)*(e.x-s.x);if(c!==0){const l=c>0;if(a===null)a=l;else if(a!==l)return!1}}return!0}function Ii(e,r,n,a){const i=Qn(e),s=Qn(r),o=$o(n),c=new Set;for(const y of n){const _=Oa(e,y.vertices),h=Oa(r,y.vertices);if(_||h){const S=Do(y.id,o,n);for(const E of S)c.add(E)}}const l=[];let d=!1,f=null;for(const y of i)for(const _ of s){const h={from:y,to:_,blocked:!1,blockedBy:null};let S=!1;for(const w of n)if(!c.has(w.id)&&Ia(y,_,w.vertices)){h.blocked=!0,h.blockedBy="terrain",S=!0;break}if(S){l.push(h);continue}let E=!1;for(const w of a)if(Ia(y,_,w)){h.blocked=!0,h.blockedBy="wall",E=!0;break}E||(h.blocked=!1,d||(f=h),d=!0),l.push(h)}return{canSee:d,rays:l,firstClearRay:f,terrainsIgnored:Array.from(c)}}const ge={width:60,height:44},Oi=ct([{id:"terrain1",x:20,y:16,width:6,height:12,rotation:0},{id:"terrain2",x:34,y:10,width:6,height:12,rotation:45},{id:"terrain3",x:44,y:20,width:6,height:12,rotation:-30}]);Lr(Oi,e=>e.map(r=>Eo(r)));Lr(Oi,e=>e.map(r=>({id:r.id,vertices:vn(r)})));const Wa=ct(!1);var Ro=ue('<line stroke="#3a4a3a" stroke-width="0.05"></line>'),Ao=ue('<line stroke="#3a4a3a" stroke-width="0.05"></line>'),Co=ue('<line stroke="#5a6a5a" stroke-width="0.08"></line>'),Io=ue('<line stroke="#5a6a5a" stroke-width="0.08"></line>'),Oo=ue('<text text-anchor="middle" class="ruler-text svelte-n43bnt"> </text>'),No=ue('<line stroke="#666"></line><!>',1),Wo=ue('<text text-anchor="middle" class="ruler-text svelte-n43bnt"> </text>'),jo=ue('<line stroke="#666"></line><!>',1),Yo=ue('<text text-anchor="middle" class="ruler-text svelte-n43bnt"> </text>'),Ho=ue('<line stroke="#666"></line><!>',1),Bo=ue('<text text-anchor="middle" class="ruler-text svelte-n43bnt"> </text>'),Fo=ue('<line stroke="#666"></line><!>',1),Xo=ue('<svg preserveAspectRatio="xMidYMid meet"><rect x="0" y="0" fill="#1a1a1a"></rect><rect fill="#4a5a4a"></rect><!><!><!><!><!><!><!><!><g><!></g></svg>');function Yn(e,r){jt(r,!1);const n=D(),a=D(),i=D(),s=D(),o=D(),c=D(),l=D();let d=D();const f=2,y=ge.width+f*2,_=ge.height+f*2;let h=D(1),S=D(0),E=D(0),w=D(!1),L={x:0,y:0},T=D(!1);const C=.5,G=4;function ne(re,K){if(!t(d))return{x:0,y:0};const xe=t(d).createSVGPoint();xe.x=re,xe.y=K;const Y=xe.matrixTransform(t(d).getScreenCTM().inverse());return{x:Y.x-f,y:Y.y-f}}function ke(re){re.preventDefault();const K=t(d).getBoundingClientRect(),xe=re.clientX-K.left,Y=re.clientY-K.top,nt=t(i)+xe/K.width*t(n),at=t(s)+Y/K.height*t(a),Ze=re.deltaY>0?.9:1.1,Oe=Math.max(C,Math.min(G,t(h)*Ze)),ot=y/Oe,Ht=_/Oe,Bt=nt-xe/K.width*ot,R=at-Y/K.height*Ht;m(h,Oe),m(S,Bt),m(E,R)}function oe(re){(re.button===1||re.button===0&&t(T))&&(re.preventDefault(),m(w,!0),L={x:re.clientX,y:re.clientY})}function N(re){if(!t(w))return;const K=t(d).getBoundingClientRect(),xe=(re.clientX-L.x)/K.width*t(n),Y=(re.clientY-L.y)/K.height*t(a);m(S,t(S)-xe),m(E,t(E)-Y),L={x:re.clientX,y:re.clientY}}function he(){m(w,!1)}function ae(re){re.code==="Space"&&!re.repeat&&re.target.tagName!=="INPUT"&&(re.preventDefault(),m(T,!0))}function $e(re){re.code==="Space"&&m(T,!1)}function Re(){m(h,1),m(S,0),m(E,0)}ee(()=>t(h),()=>{m(n,y/t(h))}),ee(()=>t(h),()=>{m(a,_/t(h))}),ee(()=>t(S),()=>{m(i,t(S))}),ee(()=>t(E),()=>{m(s,t(E))}),ee(()=>(t(i),t(s),t(n),t(a)),()=>{m(o,`${t(i)} ${t(s)} ${t(n)} ${t(a)}`)}),ee(()=>ge,()=>{m(c,Array.from({length:ge.width+1},(re,K)=>K))}),ee(()=>ge,()=>{m(l,Array.from({length:ge.height+1},(re,K)=>K))}),wr();var Ge={screenToSvg:ne};Gt();var J=Xo();X("keydown",Yr,ae),X("keyup",Yr,$e),X("mouseup",Yr,he),X("mousemove",Yr,N);let de;var fe=x(J),Te=p(fe);v(Te,"x",f),v(Te,"y",f);var q=p(Te);Le(q,1,()=>(j(ge),u(()=>Array(ge.width+1))),Ne,(re,K,xe)=>{var Y=Ro();v(Y,"x1",f+xe),v(Y,"y1",f),v(Y,"x2",f+xe),W(()=>v(Y,"y2",(j(ge),u(()=>f+ge.height)))),b(re,Y)});var ye=p(q);Le(ye,1,()=>(j(ge),u(()=>Array(ge.height+1))),Ne,(re,K,xe)=>{var Y=Ao();v(Y,"x1",f),v(Y,"y1",f+xe),v(Y,"y2",f+xe),W(()=>v(Y,"x2",(j(ge),u(()=>f+ge.width)))),b(re,Y)});var Z=p(ye);Le(Z,1,()=>(j(ge),u(()=>Array(Math.floor(ge.width/6)+1))),Ne,(re,K,xe)=>{var Y=Co();v(Y,"x1",f+xe*6),v(Y,"y1",f),v(Y,"x2",f+xe*6),W(()=>v(Y,"y2",(j(ge),u(()=>f+ge.height)))),b(re,Y)});var ie=p(Z);Le(ie,1,()=>(j(ge),u(()=>Array(Math.floor(ge.height/6)+1))),Ne,(re,K,xe)=>{var Y=Io();v(Y,"x1",f),v(Y,"y1",f+xe*6),v(Y,"y2",f+xe*6),W(()=>v(Y,"x2",(j(ge),u(()=>f+ge.width)))),b(re,Y)});var pe=p(ie);Le(pe,1,()=>t(c),Ne,(re,K)=>{var xe=No(),Y=me(xe);v(Y,"y2",f);var nt=p(Y);{var at=Ze=>{var Oe=Oo();v(Oe,"y",1.2);var ot=x(Oe);W(()=>{v(Oe,"x",f+t(K)),Ee(ot,`${t(K)??""}"`)}),b(Ze,Oe)};ce(nt,Ze=>{t(K)%6===0&&Ze(at)})}W(()=>{v(Y,"x1",f+t(K)),v(Y,"y1",t(K)%6===0?.5:f-.8),v(Y,"x2",f+t(K)),v(Y,"stroke-width",t(K)%6===0?.08:.04)}),b(re,xe)});var te=p(pe);Le(te,1,()=>t(c),Ne,(re,K)=>{var xe=jo(),Y=me(xe),nt=p(Y);{var at=Ze=>{var Oe=Wo(),ot=x(Oe);W(()=>{v(Oe,"x",f+t(K)),v(Oe,"y",(j(ge),u(()=>f+ge.height+1.8))),Ee(ot,`${t(K)??""}"`)}),b(Ze,Oe)};ce(nt,Ze=>{t(K)%6===0&&Ze(at)})}W(()=>{v(Y,"x1",f+t(K)),v(Y,"y1",(j(ge),u(()=>f+ge.height))),v(Y,"x2",f+t(K)),v(Y,"y2",(j(ge),t(K),u(()=>f+ge.height+(t(K)%6===0?1.5:.8)))),v(Y,"stroke-width",t(K)%6===0?.08:.04)}),b(re,xe)});var be=p(te);Le(be,1,()=>t(l),Ne,(re,K)=>{var xe=Ho(),Y=me(xe);v(Y,"x2",f);var nt=p(Y);{var at=Ze=>{var Oe=Yo();v(Oe,"x",1);var ot=x(Oe);W(()=>{v(Oe,"y",f+t(K)+.35),Ee(ot,`${t(K)??""}"`)}),b(Ze,Oe)};ce(nt,Ze=>{t(K)%6===0&&Ze(at)})}W(()=>{v(Y,"x1",t(K)%6===0?.5:f-.8),v(Y,"y1",f+t(K)),v(Y,"y2",f+t(K)),v(Y,"stroke-width",t(K)%6===0?.08:.04)}),b(re,xe)});var Me=p(be);Le(Me,1,()=>t(l),Ne,(re,K)=>{var xe=Fo(),Y=me(xe),nt=p(Y);{var at=Ze=>{var Oe=Bo(),ot=x(Oe);W(()=>{v(Oe,"x",(j(ge),u(()=>f+ge.width+1))),v(Oe,"y",f+t(K)+.35),Ee(ot,`${t(K)??""}"`)}),b(Ze,Oe)};ce(nt,Ze=>{t(K)%6===0&&Ze(at)})}W(()=>{v(Y,"x1",(j(ge),u(()=>f+ge.width))),v(Y,"y1",f+t(K)),v(Y,"x2",(j(ge),t(K),u(()=>f+ge.width+(t(K)%6===0?1.5:.8)))),v(Y,"y2",f+t(K)),v(Y,"stroke-width",t(K)%6===0?.08:.04)}),b(re,xe)});var Ie=p(Me);v(Ie,"transform","translate(2, 2)");var rt=x(Ie);return Pi(rt,r,"default",{screenToSvg:ne}),Di(J,re=>m(d,re),()=>t(d)),W(()=>{v(J,"viewBox",t(o)),de=Zt(J,0,"battlefield svelte-n43bnt",null,de,{panning:t(w)||t(T)}),v(fe,"width",(j(ge),u(()=>ge.width+f*2))),v(fe,"height",(j(ge),u(()=>ge.height+f*2))),v(Te,"width",(j(ge),u(()=>ge.width))),v(Te,"height",(j(ge),u(()=>ge.height)))}),X("wheel",J,ke),X("mousedown",J,oe),X("dblclick",J,Re),b(e,J),po(r,"screenToSvg",ne),Yt(Ge)}var Uo=ue('<line stroke="#3b82f6" stroke-width="0.08" stroke-dasharray="0.2,0.1"></line><circle r="0.6" fill="#3b82f6" stroke="#1d4ed8" stroke-width="0.08" role="button" tabindex="0" class="rotate-handle svelte-trljjm"></circle>',1),Ko=ue('<g><g><rect role="button" tabindex="0" class="svelte-trljjm"></rect></g><!></g>');function Ni(e,r){jt(r,!1);const n=D(),a=D(),i=D(),s=D(),o=D();let c=_e(r,"id",8),l=_e(r,"x",8),d=_e(r,"y",8),f=_e(r,"width",8),y=_e(r,"height",8),_=_e(r,"rotation",8,0),h=_e(r,"selected",8,!1),S=_e(r,"screenToSvg",8),E=_e(r,"onSelect",8,()=>{}),w=_e(r,"onDrag",8,()=>{}),L=_e(r,"onRotate",8,()=>{}),T=D(!1),C=!1,G={x:0,y:0};function ne(q){q.stopPropagation(),E()(c())}function ke(q){if(q.button!==0)return;q.preventDefault(),q.stopPropagation(),E()(c()),m(T,!0);const ye=S()(q.clientX,q.clientY);G={x:ye.x-l(),y:ye.y-d()},window.addEventListener("mousemove",oe),window.addEventListener("mouseup",N)}function oe(q){if(!t(T))return;const ye=S()(q.clientX,q.clientY);let Z=ye.x-G.x,ie=ye.y-G.y;q.shiftKey||(Z=Math.round(Z),ie=Math.round(ie));const pe=Math.max(f(),y())/2;Z=Math.max(-pe,Math.min(ge.width-f()+pe,Z)),ie=Math.max(-pe,Math.min(ge.height-y()+pe,ie)),w()(c(),Z,ie)}function N(){m(T,!1),window.removeEventListener("mousemove",oe),window.removeEventListener("mouseup",N)}function he(q){q.preventDefault(),q.stopPropagation(),C=!0,window.addEventListener("mousemove",ae),window.addEventListener("mouseup",$e)}function ae(q){if(!C)return;const ye=S()(q.clientX,q.clientY),Z=ye.x-t(n),ie=ye.y-t(a);let pe=Math.atan2(ie,Z)*180/Math.PI+45;q.shiftKey||(pe=Math.round(pe/15)*15),L()(c(),pe)}function $e(){C=!1,window.removeEventListener("mousemove",ae),window.removeEventListener("mouseup",$e)}ee(()=>(j(l()),j(f())),()=>{m(n,l()+f()/2)}),ee(()=>(j(d()),j(y())),()=>{m(a,d()+y()/2)}),ee(()=>(j(f()),j(y())),()=>{m(i,Math.max(f(),y())/2+1.5)}),ee(()=>(t(n),t(i),j(_())),()=>{m(s,t(n)+t(i)*Math.cos((_()-45)*Math.PI/180))}),ee(()=>(t(a),t(i),j(_())),()=>{m(o,t(a)+t(i)*Math.sin((_()-45)*Math.PI/180))}),wr(),Gt();var Re=Ko();let Ge;var J=x(Re),de=x(J),fe=p(J);{var Te=q=>{var ye=Uo(),Z=me(ye),ie=p(Z);W(()=>{v(Z,"x1",t(n)),v(Z,"y1",t(a)),v(Z,"x2",t(s)),v(Z,"y2",t(o)),v(ie,"cx",t(s)),v(ie,"cy",t(o))}),X("mousedown",ie,he),b(q,ye)};ce(fe,q=>{h()&&q(Te)})}W(()=>{Ge=Zt(Re,0,"terrain-rect svelte-trljjm",null,Ge,{selected:h(),dragging:t(T)}),v(J,"transform",`rotate(${_()??""}, ${t(n)??""}, ${t(a)??""})`),v(de,"x",l()),v(de,"y",d()),v(de,"width",f()),v(de,"height",y()),v(de,"fill",h()?"rgba(59, 130, 246, 0.3)":"rgba(139, 90, 43, 0.3)"),v(de,"stroke",h()?"#3b82f6":"#8b5a2b"),v(de,"stroke-width",h()?.15:.1)}),X("click",de,ne),X("mousedown",de,ke),b(e,Re),Yt()}const Wi="warhammer-deployment-layouts",ji=[{label:'6" x 12"',width:6,height:12},{label:'5" x 10"',width:5,height:10},{label:'4" x 6"',width:4,height:6}],ea=[{label:"L 4x8",shape:"L-4x8"},{label:"L 4x8 â",shape:"L-4x8-mirror"},{label:"C 4-8-4",shape:"C-4-8-4"},{label:"L 5x6",shape:"L-5x6"},{label:"L 5x6 â",shape:"L-5x6-mirror"},{label:"L 4x6",shape:"L-4x6"},{label:"L 4x6 â",shape:"L-4x6-mirror"}],Yi=[{name:"Layout 1",terrains:[{id:"a",x:28,y:0,width:4,height:6,rotation:0},{id:"b",x:28,y:38,width:4,height:6,rotation:0},{id:"c",x:6,y:5,width:6,height:12,rotation:0},{id:"d",x:48,y:27,width:6,height:12,rotation:0},{id:"e",x:16,y:28,width:6,height:12,rotation:0},{id:"f",x:7,y:19,width:6,height:12,rotation:90},{id:"g",x:38,y:4,width:6,height:12,rotation:0},{id:"h",x:47,y:13,width:6,height:12,rotation:90},{id:"i",x:32.74,y:23.59,width:5,height:10,rotation:135},{id:"j",x:35.06,y:19.5,width:4,height:6,rotation:45},{id:"k",x:22.07,y:10.17,width:5,height:10,rotation:-45},{id:"l",x:20.72,y:18.23,width:4,height:6,rotation:45}],walls:[{id:"wa",x:38,y:6,shape:"C-4-8-4",rotation:0},{id:"wb",x:18,y:30,shape:"C-4-8-4",rotation:180},{id:"wc",x:13.33,y:20.15,shape:"L-4x8-mirror",rotation:-90},{id:"wd",x:49.67,y:15.93,shape:"L-4x8-mirror",rotation:90},{id:"we",x:48.2,y:30.88,shape:"L-4x8",rotation:0},{id:"wf",x:7.84,y:5.01,shape:"L-4x8",rotation:180},{id:"wg",x:27.06,y:11.52,shape:"L-4x8-mirror",rotation:-45},{id:"wh",x:35.81,y:24.24,shape:"L-4x8-mirror",rotation:135}]},{name:"Layout 2",terrains:[{id:"a",x:31,y:7,width:4,height:6,rotation:-90},{id:"b",x:25,y:30,width:4,height:6,rotation:90},{id:"c",x:5,y:4,width:6,height:12,rotation:0},{id:"d",x:49,y:28,width:6,height:12,rotation:0},{id:"e",x:46,y:4,width:6,height:12,rotation:0},{id:"f",x:16.32,y:16.13,width:6,height:12,rotation:135},{id:"g",x:53,y:15,width:4,height:6,rotation:90},{id:"h",x:8,y:28,width:6,height:12,rotation:0},{id:"i",x:3,y:23,width:4,height:6,rotation:90},{id:"j",x:32.62,y:32.55,width:5,height:10,rotation:-90},{id:"k",x:22.48,y:.51,width:5,height:10,rotation:-90},{id:"l",x:37,y:16,width:6,height:12,rotation:135}],walls:[{id:"wa",x:49,y:32,shape:"L-4x8",rotation:0},{id:"wb",x:7,y:4,shape:"L-4x8",rotation:180},{id:"wc",x:46,y:8,shape:"L-4x8",rotation:0},{id:"wd",x:10,y:28,shape:"L-4x8",rotation:180},{id:"we",x:35.07,y:34.56,shape:"L-5x6-mirror",rotation:-90},{id:"wf",x:29.09,y:2.47,shape:"L-5x6-mirror",rotation:90},{id:"wg",x:17.86,y:17.53,shape:"C-4-8-4",rotation:135},{id:"wh",x:37.24,y:18.38,shape:"C-4-8-4",rotation:-45}]},{name:"Layout 3",terrains:[{id:"a",x:11,y:3,width:4,height:6,rotation:90},{id:"b",x:45,y:35,width:4,height:6,rotation:90},{id:"c",x:25,y:1,width:6,height:12,rotation:90},{id:"d",x:29,y:31,width:6,height:12,rotation:90},{id:"e",x:7.74,y:26.05,width:6,height:12,rotation:125.31},{id:"f",x:46.34,y:5.51,width:6,height:12,rotation:121.72},{id:"g",x:5.14,y:10.46,width:6,height:12,rotation:41.51},{id:"h",x:48.67,y:21.52,width:6,height:12,rotation:41.51},{id:"i",x:19.59,y:14.36,width:5,height:10,rotation:-38.13},{id:"j",x:20.69,y:24.37,width:4,height:6,rotation:-39.33},{id:"k",x:35.34,y:19.61,width:5,height:10,rotation:-38.13},{id:"l",x:35.31,y:13.5,width:4,height:6,rotation:-39.33}],walls:[{id:"aa",x:30,y:32,shape:"C-4-8-4",rotation:90},{id:"ab",x:26,y:4,shape:"C-4-8-4",rotation:-90},{id:"ac",x:8.19,y:11.64,shape:"L-4x8",rotation:222.46},{id:"ad",x:47.79,y:24.3,shape:"L-4x8",rotation:41.26},{id:"ae",x:38.64,y:20.09,shape:"L-5x6-mirror",rotation:141.31},{id:"af",x:25.26,y:17.9,shape:"L-5x6-mirror",rotation:-37.61},{id:"ag",x:14.37,y:28.38,shape:"L-4x8-mirror",rotation:-54.26},{id:"ah",x:48.75,y:7.3,shape:"L-4x8-mirror",rotation:122.02}]},{name:"Layout 4",terrains:[{id:"a",x:15,y:1,width:6,height:12,rotation:90},{id:"b",x:8,y:10,width:4,height:6,rotation:0},{id:"c",x:4,y:19,width:4,height:6,rotation:0},{id:"d",x:7.5,y:27.68,width:6,height:12,rotation:-48.57},{id:"e",x:46.53,y:4.24,width:6,height:12,rotation:-48.57},{id:"f",x:53,y:19,width:4,height:6,rotation:0},{id:"g",x:48,y:28,width:4,height:6,rotation:0},{id:"h",x:39,y:31,width:6,height:12,rotation:90},{id:"i",x:33.03,y:2.97,width:6,height:12,rotation:-37.25},{id:"j",x:20.96,y:28.96,width:6,height:12,rotation:-37.25},{id:"k",x:16.93,y:16.51,width:5,height:10,rotation:-41.85},{id:"l",x:37.96,y:17.43,width:5,height:10,rotation:-41.85}],walls:[{id:"aa",x:18,y:4,shape:"L-4x8",rotation:-90},{id:"ab",x:9.04,y:29.01,shape:"C-4-8-4",rotation:131.97},{id:"ac",x:47,y:7,shape:"C-4-8-4",rotation:-48.54},{id:"ad",x:38,y:32,shape:"L-4x8",rotation:90},{id:"ae",x:34.42,y:7.12,shape:"L-4x8",rotation:-37.53},{id:"af",x:21.57,y:28.8,shape:"L-4x8",rotation:142.46},{id:"ag",x:15.7,y:17.01,shape:"L-5x6",rotation:137.87},{id:"ah",x:39.17,y:20.85,shape:"L-5x6",rotation:-40.92}]},{name:"Layout 5",terrains:[{id:"aa",x:27,y:1,width:6,height:12,rotation:90},{id:"ab",x:36.53,y:12.48,width:5,height:10,rotation:-90},{id:"ac",x:13,y:3,width:4,height:6,rotation:90},{id:"ad",x:43,y:35,width:4,height:6,rotation:90},{id:"ae",x:27,y:31,width:6,height:12,rotation:90},{id:"af",x:18.43,y:21.49,width:5,height:10,rotation:-90},{id:"ag",x:1,y:23,width:4,height:6,rotation:90},{id:"ah",x:55,y:15,width:4,height:6,rotation:90},{id:"ai",x:7.83,y:30.22,width:6,height:12,rotation:-60},{id:"aj",x:46.32,y:1.58,width:6,height:12,rotation:-60},{id:"ak",x:8.74,y:10.19,width:6,height:12,rotation:65.22},{id:"al",x:45.22,y:21.75,width:6,height:12,rotation:65.22}],walls:[{id:"a1",x:28,y:32,shape:"C-4-8-4",rotation:90},{id:"a2",x:28,y:4,shape:"C-4-8-4",rotation:-90},{id:"a3",x:11.88,y:12.29,shape:"L-4x8",rotation:-114.74},{id:"a4",x:43.97,y:23.59,shape:"L-4x8",rotation:64.22},{id:"a5",x:24.91,y:23.52,shape:"L-5x6-mirror",rotation:-90.37},{id:"a6",x:39,y:14.51,shape:"L-5x6-mirror",rotation:89.9},{id:"a7",x:7.58,y:30.57,shape:"L-4x8",rotation:120.93},{id:"a8",x:48.51,y:5.28,shape:"L-4x8",rotation:-59.06}]},{name:"Layout 6",terrains:[{id:"aa",x:13,y:1,width:6,height:12,rotation:90},{id:"ab",x:6,y:10,width:4,height:6,rotation:0},{id:"ac",x:25,y:11,width:4,height:6,rotation:90},{id:"ad",x:7.34,y:27.57,width:6,height:12,rotation:-40.32},{id:"ae",x:46.69,y:4.57,width:6,height:12,rotation:-41.9},{id:"af",x:31,y:27,width:4,height:6,rotation:-90},{id:"ag",x:50,y:28,width:4,height:6,rotation:0},{id:"ah",x:41,y:31,width:6,height:12,rotation:90},{id:"ai",x:34,y:4,width:6,height:12,rotation:0},{id:"aj",x:20,y:28,width:6,height:12,rotation:0},{id:"ak",x:15.7,y:15.03,width:5,height:10,rotation:-41.85},{id:"al",x:39.43,y:19.24,width:5,height:10,rotation:-39.95}],walls:[{id:"a1",x:16,y:4,shape:"L-4x8",rotation:-90},{id:"a2",x:9.04,y:29.01,shape:"C-4-8-4",rotation:140.05},{id:"a3",x:47,y:7.16,shape:"C-4-8-4",rotation:-41.53},{id:"a4",x:40,y:32,shape:"L-4x8",rotation:90},{id:"a5",x:34.15,y:7.88,shape:"L-4x8",rotation:0},{id:"a6",x:22,y:28,shape:"L-4x8",rotation:180},{id:"a7",x:14.47,y:15.47,shape:"L-5x6",rotation:137.87},{id:"a8",x:40.53,y:22.78,shape:"L-5x6",rotation:-40.92}]},{name:"Layout 7",terrains:[{id:"aa",x:8,y:8,width:6,height:12,rotation:0},{id:"ab",x:6,y:28,width:6,height:12,rotation:0},{id:"ac",x:7,y:39,width:4,height:6,rotation:90},{id:"ad",x:18,y:26,width:5,height:10,rotation:0},{id:"ae",x:19,y:20,width:4,height:6,rotation:0},{id:"af",x:23,y:3,width:6,height:12,rotation:0},{id:"ag",x:31,y:29,width:6,height:12,rotation:0},{id:"ah",x:37,y:18,width:4,height:6,rotation:0},{id:"ai",x:37,y:8,width:5,height:10,rotation:0},{id:"aj",x:46,y:24,width:6,height:12,rotation:0},{id:"ak",x:48,y:4,width:6,height:12,rotation:0},{id:"al",x:49,y:-1,width:4,height:6,rotation:90}],walls:[{id:"a1",x:9,y:10,shape:"L-5x6",rotation:180},{id:"a2",x:11.44,y:31.97,shape:"L-4x8-mirror",rotation:0},{id:"a3",x:19,y:20,shape:"L-4x6",rotation:180},{id:"a4",x:22.53,y:30.02,shape:"L-5x6-mirror",rotation:0},{id:"a5",x:25,y:5,shape:"C-4-8-4",rotation:180},{id:"a6",x:31,y:31,shape:"C-4-8-4",rotation:0},{id:"a7",x:37,y:18,shape:"L-4x6",rotation:0},{id:"a8",x:41.51,y:8.09,shape:"L-5x6-mirror",rotation:180},{id:"a9",x:46,y:28,shape:"L-5x6",rotation:0},{id:"a10",x:51.51,y:4.01,shape:"L-4x8-mirror",rotation:180}]},{name:"Layout 8",terrains:[{id:"aa",x:23,y:22,width:4,height:6,rotation:0},{id:"ab",x:23,y:28,width:4,height:6,rotation:0},{id:"ac",x:33,y:16,width:4,height:6,rotation:0},{id:"ad",x:33,y:10,width:4,height:6,rotation:0},{id:"ae",x:41,y:19,width:6,height:12,rotation:0},{id:"af",x:13,y:13,width:6,height:12,rotation:0},{id:"ag",x:32,y:32,width:6,height:12,rotation:0},{id:"ah",x:22,y:0,width:6,height:12,rotation:0},{id:"ai",x:9.5,y:27.68,width:6,height:12,rotation:-48.69},{id:"aj",x:44.51,y:4.35,width:6,height:12,rotation:-48.69},{id:"ak",x:6.95,y:4,width:5,height:10,rotation:53.9},{id:"al",x:48,y:30,width:5,height:10,rotation:53.9}],walls:[{id:"a1",x:32,y:34,shape:"C-4-8-4",rotation:0},{id:"a2",x:24,y:2,shape:"C-4-8-4",rotation:180},{id:"a3",x:44.68,y:19.06,shape:"L-4x8-mirror",rotation:180},{id:"a4",x:18.43,y:16.91,shape:"L-4x8-mirror",rotation:0},{id:"a5",x:46.38,y:33.13,shape:"L-5x6",rotation:52.87},{id:"a6",x:8.55,y:4.89,shape:"L-5x6",rotation:-127.66},{id:"a7",x:16,y:30.28,shape:"L-4x8-mirror",rotation:-48.62},{id:"a8",x:46.91,y:5.85,shape:"L-4x8-mirror",rotation:132.19}]}];function Zo(){return"terrain-"+Date.now()+"-"+Math.random().toString(36).substr(2,9)}function ar(){const e=localStorage.getItem(Wi);if(e)try{return JSON.parse(e)}catch(r){return console.error("Failed to parse saved layouts:",r),{}}return{}}function Rn(e){localStorage.setItem(Wi,JSON.stringify(e))}function Hi(){const{subscribe:e,set:r,update:n}=ct([]);return{subscribe:e,set:r,update:n,add(a,i){n(s=>[...s,{id:Zo(),x:30-a/2,y:22-i/2,width:a,height:i,rotation:0}])},updateTerrain(a,i){n(s=>s.map(o=>o.id===a?{...o,...i}:o))},remove(a){n(i=>i.filter(s=>s.id!==a))},clear(){r([])},save(a){const i=cr({subscribe:e}),s=ar();s[a]={terrains:i,savedAt:Date.now()},Rn(s)},load(a){const i=ar();return i[a]?(r(i[a].terrains),!0):!1},deleteLayout(a){const i=ar();delete i[a],Rn(i)},getSavedLayoutNames(){const a=ar();return Object.keys(a).map(i=>({name:i,savedAt:a[i].savedAt,terrainCount:a[i].terrains.length})).sort((i,s)=>s.savedAt-i.savedAt)},hasSaved(){const a=ar();return Object.keys(a).length>0}}}const Dt=Hi();function Bi(){const{subscribe:e,set:r,update:n}=ct([]);return{subscribe:e,set:r,update:n,add(a){n(i=>[...i,{id:"wall-"+Date.now()+"-"+Math.random().toString(36).substr(2,9),x:30,y:22,shape:a,rotation:0}])},updateWall(a,i){n(s=>s.map(o=>o.id===a?{...o,...i}:o))},remove(a){n(i=>i.filter(s=>s.id!==a))},clear(){r([])}}}const Tt=Bi(),bn=Hi(),wn=Bi(),Ln=ct(null),Sn=ct(null);function Vr(e){switch(e){case"L-4x8":return[{x:0,y:0},{x:.5,y:0},{x:.5,y:8-.5},{x:4,y:8-.5},{x:4,y:8},{x:0,y:8}];case"L-4x8-mirror":return[{x:0,y:0},{x:.5,y:0},{x:.5,y:8},{x:-4+.5,y:8},{x:-4+.5,y:8-.5},{x:0,y:8-.5}];case"C-4-8-4":return[{x:0,y:0},{x:4,y:0},{x:4,y:.5},{x:.5,y:.5},{x:.5,y:8-.5},{x:4,y:8-.5},{x:4,y:8},{x:0,y:8}];case"L-5x6":return[{x:0,y:0},{x:.5,y:0},{x:.5,y:6-.5},{x:5,y:6-.5},{x:5,y:6},{x:0,y:6}];case"L-5x6-mirror":return[{x:0,y:0},{x:.5,y:0},{x:.5,y:6},{x:-5+.5,y:6},{x:-5+.5,y:6-.5},{x:0,y:6-.5}];case"L-4x6":return[{x:0,y:0},{x:.5,y:0},{x:.5,y:6-.5},{x:4,y:6-.5},{x:4,y:6},{x:0,y:6}];case"L-4x6-mirror":return[{x:0,y:0},{x:.5,y:0},{x:.5,y:6},{x:-4+.5,y:6},{x:-4+.5,y:6-.5},{x:0,y:6-.5}];default:return[]}}function ga(e,r,n,a){if(e.length===0)return[];const i=e.map(L=>L.x),s=e.map(L=>L.y),o=Math.min(...i),c=Math.max(...i),l=Math.min(...s),d=Math.max(...s),f=c-o,y=d-l,_=r+o+f/2,h=n+l+y/2,S=a*Math.PI/180,E=Math.cos(S),w=Math.sin(S);return e.map(L=>{const T=r+L.x,C=n+L.y,G=T-_,ne=C-h;return{x:_+G*E-ne*w,y:h+G*w+ne*E}})}Lr(Tt,e=>e.map(r=>ga(Vr(r.shape),r.x,r.y,r.rotation)));const Xt=ct(null),Ut=ct(null),pa=ct([]);function zo(e,r=[]){const n=cr(Dt),a=cr(Tt),i=ar();i[e]={terrains:n,walls:a,models:r,savedAt:Date.now()},Rn(i)}function Vo(e){const r=ar();return r[e]?(Dt.set(r[e].terrains||[]),Tt.set(r[e].walls||[]),{terrains:r[e].terrains||[],walls:r[e].walls||[],models:r[e].models||[]}):null}function qo(e){const r=ar();delete r[e],Rn(r)}function Go(){const e=ar();return Object.keys(e).map(r=>({name:r,savedAt:e[r].savedAt,terrainCount:(e[r].terrains||[]).length,wallCount:(e[r].walls||[]).length,modelCount:(e[r].models||[]).length})).sort((r,n)=>n.savedAt-r.savedAt)}function sn(){pa.set(Go())}var Jo=ue('<line stroke="#3b82f6" stroke-width="0.08" stroke-dasharray="0.2,0.1"></line><circle r="0.6" fill="#3b82f6" stroke="#1d4ed8" stroke-width="0.08" role="button" tabindex="0" class="rotate-handle svelte-1tez9jd"></circle>',1),Qo=ue('<g><g><path role="button" tabindex="0" class="svelte-1tez9jd"></path></g><!></g>');function xa(e,r){jt(r,!1);const n=D(),a=D(),i=D(),s=D(),o=D(),c=D(),l=D(),d=D(),f=D(),y=D();let _=_e(r,"id",8),h=_e(r,"x",8),S=_e(r,"y",8),E=_e(r,"shape",8),w=_e(r,"rotation",8,0),L=_e(r,"selected",8,!1),T=_e(r,"screenToSvg",8),C=_e(r,"onSelect",8,()=>{}),G=_e(r,"onDrag",8,()=>{}),ne=_e(r,"onRotate",8,()=>{});function ke(te){const be=te.map(Ie=>Ie.x),Me=te.map(Ie=>Ie.y);return{minX:Math.min(...be),maxX:Math.max(...be),minY:Math.min(...Me),maxY:Math.max(...Me)}}let oe=D(!1),N=!1,he={x:0,y:0};function ae(te){te.stopPropagation(),C()(_())}function $e(te){if(te.button!==0)return;te.preventDefault(),te.stopPropagation(),C()(_()),m(oe,!0);const be=T()(te.clientX,te.clientY);he={x:be.x-h(),y:be.y-S()},window.addEventListener("mousemove",Re),window.addEventListener("mouseup",Ge)}function Re(te){if(!t(oe))return;const be=T()(te.clientX,te.clientY);let Me=be.x-he.x,Ie=be.y-he.y;te.shiftKey||(Me=Math.round(Me),Ie=Math.round(Ie));const rt=Math.max(t(i),t(s));Me=Math.max(-rt,Math.min(ge.width+rt-t(i),Me)),Ie=Math.max(-rt,Math.min(ge.height+rt-t(s),Ie)),G()(_(),Me,Ie)}function Ge(){m(oe,!1),window.removeEventListener("mousemove",Re),window.removeEventListener("mouseup",Ge)}function J(te){te.preventDefault(),te.stopPropagation(),N=!0,window.addEventListener("mousemove",de),window.addEventListener("mouseup",fe)}function de(te){if(!N)return;const be=T()(te.clientX,te.clientY),Me=be.x-t(o),Ie=be.y-t(c);let rt=Math.atan2(Ie,Me)*180/Math.PI+45;te.shiftKey||(rt=Math.round(rt/15)*15),ne()(_(),rt)}function fe(){N=!1,window.removeEventListener("mousemove",de),window.removeEventListener("mouseup",fe)}ee(()=>j(E()),()=>{m(n,Vr(E()))}),ee(()=>t(n),()=>{m(a,ke(t(n)))}),ee(()=>t(a),()=>{m(i,t(a).maxX-t(a).minX)}),ee(()=>t(a),()=>{m(s,t(a).maxY-t(a).minY)}),ee(()=>(j(h()),t(a),t(i)),()=>{m(o,h()+t(a).minX+t(i)/2)}),ee(()=>(j(S()),t(a),t(s)),()=>{m(c,S()+t(a).minY+t(s)/2)}),ee(()=>(t(n),j(h()),j(S())),()=>{m(l,t(n).length>0?`M ${t(n).map(te=>`${h()+te.x},${S()+te.y}`).join(" L ")} Z`:"")}),ee(()=>(t(i),t(s)),()=>{m(d,Math.max(t(i),t(s))/2+1.5)}),ee(()=>(t(o),t(d),j(w())),()=>{m(f,t(o)+t(d)*Math.cos((w()-45)*Math.PI/180))}),ee(()=>(t(c),t(d),j(w())),()=>{m(y,t(c)+t(d)*Math.sin((w()-45)*Math.PI/180))}),wr(),Gt();var Te=Qo();let q;var ye=x(Te),Z=x(ye),ie=p(ye);{var pe=te=>{var be=Jo(),Me=me(be),Ie=p(Me);W(()=>{v(Me,"x1",t(o)),v(Me,"y1",t(c)),v(Me,"x2",t(f)),v(Me,"y2",t(y)),v(Ie,"cx",t(f)),v(Ie,"cy",t(y))}),X("mousedown",Ie,J),b(te,be)};ce(ie,te=>{L()&&te(pe)})}W(()=>{q=Zt(Te,0,"wall-piece svelte-1tez9jd",null,q,{selected:L(),dragging:t(oe)}),v(ye,"transform",`rotate(${w()??""}, ${t(o)??""}, ${t(c)??""})`),v(Z,"d",t(l)),v(Z,"fill",L()?"rgba(139, 69, 19, 0.6)":"rgba(139, 69, 19, 0.8)"),v(Z,"stroke",L()?"#3b82f6":"#5c3317"),v(Z,"stroke-width",L()?.15:.1)}),X("click",Z,ae),X("mousedown",Z,$e),b(e,Te),Yt()}var el=se('<div class="section-content svelte-7o4pd4"><!></div>'),tl=se('<section><div class="section-header svelte-7o4pd4" role="button" tabindex="0"><h3 class="svelte-7o4pd4"> </h3> <span class="toggle-icon svelte-7o4pd4"> </span></div> <!></section>');function gt(e,r){let n=_e(r,"title",8),a=_e(r,"defaultOpen",8,!0),i=D(a());function s(){m(i,!t(i))}var o=tl();let c;var l=x(o),d=x(l),f=x(d),y=p(d,2),_=x(y),h=p(l,2);{var S=E=>{var w=el(),L=x(w);Pi(L,r,"default",{}),b(E,w)};ce(h,E=>{t(i)&&E(S)})}W(()=>{c=Zt(o,1,"collapsible-section svelte-7o4pd4",null,c,{collapsed:!t(i)}),Ee(f,n()),Ee(_,t(i)?"â¼":"â¶")}),X("click",l,s),b(e,o)}var rl=se('<button class="svelte-10mgcx0"> </button>'),nl=se('<div class="button-group svelte-10mgcx0"></div>'),al=se('<button class="svelte-10mgcx0"> </button>'),il=se('<div class="button-group svelte-10mgcx0"></div>'),sl=se('<div class="field svelte-10mgcx0"><span class="label-text svelte-10mgcx0">Size</span> <span class="value svelte-10mgcx0"> </span></div> <div class="field svelte-10mgcx0"><span class="label-text svelte-10mgcx0">Rotation</span> <span class="value svelte-10mgcx0"> </span></div>',1),ol=se('<div class="field svelte-10mgcx0"><span class="label-text svelte-10mgcx0">Shape</span> <span class="value svelte-10mgcx0"> </span></div> <div class="field svelte-10mgcx0"><span class="label-text svelte-10mgcx0">Rotation</span> <span class="value svelte-10mgcx0"> </span></div>',1),ll=se('<div class="edit-form svelte-10mgcx0"><div class="field svelte-10mgcx0"><label for="edit-x" class="svelte-10mgcx0">X (inches)</label> <input id="edit-x" type="number" step="0.1" class="svelte-10mgcx0"/></div> <div class="field svelte-10mgcx0"><label for="edit-y" class="svelte-10mgcx0">Y (inches)</label> <input id="edit-y" type="number" step="0.1" class="svelte-10mgcx0"/></div> <!> <button class="danger svelte-10mgcx0">Remove</button></div>'),cl=se('<p class="hint svelte-10mgcx0">Click a piece to select it</p>'),ul=se('<div class="button-group vertical svelte-10mgcx0"><button class="svelte-10mgcx0">Save Layout</button> <button class="svelte-10mgcx0">Load Layout</button> <div class="button-row svelte-10mgcx0"><button class="secondary small svelte-10mgcx0">Export</button> <button class="secondary small svelte-10mgcx0">Import</button></div> <button class="secondary svelte-10mgcx0">Clear All</button></div>'),dl=se("<!> <!>",1),fl=se('<div class="modal-overlay svelte-10mgcx0" role="presentation"><div class="modal svelte-10mgcx0" role="dialog"><h2 class="svelte-10mgcx0">Save Layout</h2> <div class="modal-field svelte-10mgcx0"><label for="layout-name" class="svelte-10mgcx0">Layout Name</label> <input id="layout-name" type="text" placeholder="Enter a name..." class="svelte-10mgcx0"/></div> <div class="modal-actions svelte-10mgcx0"><button class="secondary svelte-10mgcx0">Cancel</button> <button class="svelte-10mgcx0">Save</button></div></div></div>'),vl=se('<p class="hint svelte-10mgcx0">No saved layouts yet</p>'),hl=se('<div class="layout-item svelte-10mgcx0" role="button" tabindex="0"><div class="layout-info svelte-10mgcx0"><span class="layout-name svelte-10mgcx0"> </span> <span class="layout-meta svelte-10mgcx0"> </span></div> <button class="delete-btn svelte-10mgcx0" title="Delete">Ã</button></div>'),yl=se('<div class="layout-list svelte-10mgcx0"></div>'),gl=se('<div class="modal-overlay svelte-10mgcx0" role="presentation"><div class="modal svelte-10mgcx0" role="dialog"><h2 class="svelte-10mgcx0">Load Layout</h2> <!> <div class="modal-actions svelte-10mgcx0"><button class="secondary svelte-10mgcx0">Cancel</button></div></div></div>'),pl=se('<main class="svelte-10mgcx0"><div class="header svelte-10mgcx0"><h1 class="svelte-10mgcx0">Layout Builder</h1> <nav class="nav-links svelte-10mgcx0"><a href="#/setup" class="svelte-10mgcx0">Battlefield Setup</a> <a href="#/deployment" class="svelte-10mgcx0">Deployment</a> <a href="#/" class="active svelte-10mgcx0">Layout Builder</a> <a href="#/debug" class="svelte-10mgcx0">Debug Mode</a></nav></div> <div class="layout svelte-10mgcx0"><div class="sidebar svelte-10mgcx0"><!> <!> <!> <!> <input type="file" accept=".json" style="display: none;"/></div> <div class="battlefield-area svelte-10mgcx0"><div class="battlefield-container svelte-10mgcx0" role="presentation"><!></div> <div class="info svelte-10mgcx0"><p class="svelte-10mgcx0"> </p> <p class="hint svelte-10mgcx0">Scroll to zoom | Space+drag or middle-click to pan | Double-click to reset view</p></div></div></div></main> <!> <!>',1);function xl(e,r){jt(r,!1);const n=()=>qe(Xt,"$selectedTerrainId",c),a=()=>qe(Ut,"$selectedWallId",c),i=()=>qe(Dt,"$layoutTerrains",c),s=()=>qe(Tt,"$layoutWalls",c),o=()=>qe(pa,"$savedLayoutsList",c),[c,l]=jn(),d=D(),f=D();let y=D(!1),_=D(!1),h=D(""),S=null;tn(()=>{sn(),window.addEventListener("keydown",E)}),Ri(()=>{window.removeEventListener("keydown",E)});function E(k){if(k.target.tagName==="INPUT"||t(y)||t(_))return;const U=n()||a();if((k.key==="Delete"||k.key==="Backspace")&&U){k.preventDefault(),$e();return}if(U&&["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(k.key)){k.preventDefault();const H=k.shiftKey?.1:1;let z=0,g=0;switch(k.key){case"ArrowUp":g=-H;break;case"ArrowDown":g=H;break;case"ArrowLeft":z=-H;break;case"ArrowRight":z=H;break}if(n()){const A=i().find(O=>O.id===n());A&&Dt.updateTerrain(n(),{x:A.x+z,y:A.y+g})}else if(a()){const A=s().find(O=>O.id===a());A&&Tt.updateWall(a(),{x:A.x+z,y:A.y+g})}return}if(k.key==="c"&&(k.ctrlKey||k.metaKey)&&U){if(k.preventDefault(),n()){const H=i().find(z=>z.id===n());H&&(S={type:"terrain",data:{...H}})}else if(a()){const H=s().find(z=>z.id===a());H&&(S={type:"wall",data:{...H}})}return}if(k.key==="v"&&(k.ctrlKey||k.metaKey)&&S){if(k.preventDefault(),S.type==="terrain"){const H="terrain-"+Date.now()+"-"+Math.random().toString(36).substr(2,9),z={...S.data,id:H,x:S.data.x+2,y:S.data.y+2};Dt.update(g=>[...g,z]),Xt.set(H),Ut.set(null),S.data.x+=2,S.data.y+=2}else if(S.type==="wall"){const H="wall-"+Date.now()+"-"+Math.random().toString(36).substr(2,9),z={...S.data,id:H,x:S.data.x+2,y:S.data.y+2};Tt.update(g=>[...g,z]),Ut.set(H),Xt.set(null),S.data.x+=2,S.data.y+=2}return}if(k.key==="Escape"){ke();return}}let w=D(""),L=D("");function T(k,U){Dt.add(k,U)}function C(k){Tt.add(k)}function G(k){Xt.set(k),Ut.set(null)}function ne(k){Ut.set(k),Xt.set(null)}function ke(){Xt.set(null),Ut.set(null)}function oe(k,U,H){Dt.updateTerrain(k,{x:U,y:H})}function N(k,U,H){Tt.updateWall(k,{x:U,y:H})}function he(k,U){Dt.updateTerrain(k,{rotation:U})}function ae(k,U){Tt.updateWall(k,{rotation:U})}function $e(){n()?(Dt.remove(n()),Xt.set(null)):a()&&(Tt.remove(a()),Ut.set(null))}function Re(){const k=parseFloat(t(w)),U=parseFloat(t(L));!isNaN(k)&&!isNaN(U)&&(n()?Dt.updateTerrain(n(),{x:k,y:U}):a()&&Tt.updateWall(a(),{x:k,y:U}))}function Ge(){m(h,""),m(y,!0)}function J(){t(h).trim()&&(zo(t(h).trim()),sn(),m(y,!1),m(h,""))}function de(){sn(),m(_,!0)}function fe(k){Vo(k),Xt.set(null),Ut.set(null),m(_,!1)}function Te(k,U){U.stopPropagation(),confirm(`Delete layout "${k}"?`)&&(qo(k),sn())}function q(){confirm("Clear all terrain and walls?")&&(Dt.clear(),Tt.clear(),Xt.set(null),Ut.set(null))}function ye(k){return new Date(k).toLocaleDateString(void 0,{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}function Z(k){const U=ea.find(H=>H.shape===k);return U?U.label:k}function ie(){const k=i(),U=s(),H={version:1,exportedAt:Date.now(),terrains:k,walls:U},z=JSON.stringify(H,null,2),g=new Blob([z],{type:"application/json"}),A=URL.createObjectURL(g),O=document.createElement("a");O.href=A,O.download=`layout-${new Date().toISOString().slice(0,10)}.json`,document.body.appendChild(O),O.click(),document.body.removeChild(O),URL.revokeObjectURL(A)}let pe=D();function te(){t(pe).click()}function be(k){const U=k.target.files[0];if(!U)return;const H=new FileReader;H.onload=z=>{try{const g=JSON.parse(z.target.result);g.terrains&&Array.isArray(g.terrains)&&Dt.set(g.terrains),g.walls&&Array.isArray(g.walls)&&Tt.set(g.walls),Xt.set(null),Ut.set(null)}catch(g){alert("Failed to import layout: Invalid file format"),console.error("Import error:",g)}},H.readAsText(U),k.target.value=""}ee(()=>(i(),n()),()=>{m(d,i().find(k=>k.id===n()))}),ee(()=>(s(),a()),()=>{m(f,s().find(k=>k.id===a()))}),ee(()=>(t(d),t(f)),()=>{t(d)?(m(w,t(d).x.toFixed(1)),m(L,t(d).y.toFixed(1))):t(f)&&(m(w,t(f).x.toFixed(1)),m(L,t(f).y.toFixed(1)))}),wr(),Gt();var Me=pl(),Ie=me(Me),rt=p(x(Ie),2),re=x(rt),K=x(re);gt(K,{title:"Add Terrain",children:(k,U)=>{var H=nl();Le(H,5,()=>ji,Ne,(z,g)=>{var A=rl(),O=x(A);W(()=>Ee(O,(t(g),u(()=>t(g).label)))),X("click",A,()=>T(t(g).width,t(g).height)),b(z,A)}),b(k,H)},$$slots:{default:!0}});var xe=p(K,2);gt(xe,{title:"Add Wall",children:(k,U)=>{var H=il();Le(H,5,()=>ea,Ne,(z,g)=>{var A=al(),O=x(A);W(()=>Ee(O,(t(g),u(()=>t(g).label)))),X("click",A,()=>C(t(g).shape)),b(z,A)}),b(k,H)},$$slots:{default:!0}});var Y=p(xe,2);{let k=Xe(()=>t(d)?"Terrain":t(f)?"Wall":"Item");gt(Y,{get title(){return`Selected ${t(k)??""}`},children:(U,H)=>{var z=et(),g=me(z);{var A=I=>{var V=ll(),De=x(V),Q=p(x(De),2),P=p(De,2),Ye=p(x(P),2),Ve=p(P,2);{var We=ze=>{var He=sl(),Ue=me(He),it=p(x(Ue),2),Ft=x(it),vr=p(Ue,2),Jt=p(x(vr),2),Sr=x(Jt);W(we=>{Ee(Ft,`${t(d),u(()=>t(d).width)??""}" x ${t(d),u(()=>t(d).height)??""}"`),Ee(Sr,`${we??""}Â°`)},[()=>(t(d),u(()=>Math.round(t(d).rotation)))]),b(ze,He)},pt=ze=>{var He=et(),Ue=me(He);{var it=Ft=>{var vr=ol(),Jt=me(vr),Sr=p(x(Jt),2),we=x(Sr),B=p(Jt,2),Qe=p(x(B),2),Ke=x(Qe);W((M,ve)=>{Ee(we,M),Ee(Ke,`${ve??""}Â°`)},[()=>(t(f),u(()=>Z(t(f).shape))),()=>(t(f),u(()=>Math.round(t(f).rotation)))]),b(Ft,vr)};ce(Ue,Ft=>{t(f)&&Ft(it)},!0)}b(ze,He)};ce(Ve,ze=>{t(d)?ze(We):ze(pt,!1)})}var mt=p(Ve,2);un(Q,()=>t(w),ze=>m(w,ze)),X("change",Q,Re),un(Ye,()=>t(L),ze=>m(L,ze)),X("change",Ye,Re),X("click",mt,$e),b(I,V)},O=I=>{var V=cl();b(I,V)};ce(g,I=>{t(d)||t(f)?I(A):I(O,!1)})}b(U,z)},$$slots:{default:!0}})}var nt=p(Y,2);gt(nt,{title:"Layout",children:(k,U)=>{var H=ul(),z=x(H),g=p(z,2),A=p(g,2),O=x(A),I=p(O,2),V=p(A,2);W(()=>g.disabled=(o(),u(()=>o().length===0))),X("click",z,Ge),X("click",g,de),X("click",O,ie),X("click",I,te),X("click",V,q),b(k,H)},$$slots:{default:!0}});var at=p(nt,2);Di(at,k=>m(pe,k),()=>t(pe));var Ze=p(re,2),Oe=x(Ze),ot=x(Oe);Yn(ot,{children:la,$$slots:{default:(k,U)=>{const H=Xe(()=>U.screenToSvg);var z=dl(),g=me(z);Le(g,1,i,O=>O.id,(O,I)=>{{let V=Xe(()=>(t(I),n(),u(()=>t(I).id===n())));Ni(O,{get id(){return t(I),u(()=>t(I).id)},get x(){return t(I),u(()=>t(I).x)},get y(){return t(I),u(()=>t(I).y)},get width(){return t(I),u(()=>t(I).width)},get height(){return t(I),u(()=>t(I).height)},get rotation(){return t(I),u(()=>t(I).rotation)},get selected(){return t(V)},get screenToSvg(){return t(H)},onSelect:G,onDrag:oe,onRotate:he})}});var A=p(g,2);Le(A,1,s,O=>O.id,(O,I)=>{{let V=Xe(()=>(t(I),a(),u(()=>t(I).id===a())));xa(O,{get id(){return t(I),u(()=>t(I).id)},get x(){return t(I),u(()=>t(I).x)},get y(){return t(I),u(()=>t(I).y)},get shape(){return t(I),u(()=>t(I).shape)},get rotation(){return t(I),u(()=>t(I).rotation)},get selected(){return t(V)},get screenToSvg(){return t(H)},onSelect:ne,onDrag:N,onRotate:ae})}}),b(k,z)}}});var Ht=p(Oe,2),Bt=x(Ht),R=x(Bt),$=p(Ie,2);{var F=k=>{var U=fl(),H=x(U),z=p(x(H),2),g=p(x(z),2),A=p(z,2),O=x(A),I=p(O,2);W(V=>I.disabled=V,[()=>(t(h),u(()=>!t(h).trim()))]),un(g,()=>t(h),V=>m(h,V)),X("keydown",g,V=>V.key==="Enter"&&J()),X("click",O,()=>m(y,!1)),X("click",I,J),X("click",H,Da(function(V){Aa.call(this,r,V)})),X("click",U,()=>m(y,!1)),b(k,U)};ce($,k=>{t(y)&&k(F)})}var le=p($,2);{var Se=k=>{var U=gl(),H=x(U),z=p(x(H),2);{var g=V=>{var De=vl();b(V,De)},A=V=>{var De=yl();Le(De,5,o,Ne,(Q,P)=>{var Ye=hl(),Ve=x(Ye),We=x(Ve),pt=x(We),mt=p(We,2),ze=x(mt),He=p(Ve,2);W(Ue=>{Ee(pt,(t(P),u(()=>t(P).name))),Ee(ze,`${t(P),u(()=>t(P).terrainCount)??""} terrain${t(P),u(()=>t(P).terrainCount!==1?"s":"")??""}, ${t(P),u(()=>t(P).wallCount||0)??""} wall${t(P),u(()=>(t(P).wallCount||0)!==1?"s":"")??""} Â· ${Ue??""}`)},[()=>(t(P),u(()=>ye(t(P).savedAt)))]),X("click",He,Ue=>Te(t(P).name,Ue)),X("click",Ye,()=>fe(t(P).name)),b(Q,Ye)}),b(V,De)};ce(z,V=>{o(),u(()=>o().length===0)?V(g):V(A,!1)})}var O=p(z,2),I=x(O);X("click",I,()=>m(_,!1)),X("click",H,Da(function(V){Aa.call(this,r,V)})),X("click",U,()=>m(_,!1)),b(k,U)};ce(le,k=>{t(_)&&k(Se)})}W(()=>Ee(R,`Battlefield: 60" x 44" | ${i(),u(()=>i().length)??""} terrain${i(),u(()=>i().length!==1?"s":"")??""} | ${s(),u(()=>s().length)??""} wall${s(),u(()=>s().length!==1?"s":"")??""}`)),X("change",at,be),X("click",Oe,ke),b(e,Me),Yt(),l()}const Fi=1/25.4,Xi=40*Fi/2,Ui=3+20*Fi;function Ki(e="item"){return e+"-"+Date.now()+"-"+Math.random().toString(36).substr(2,9)}function _l(){const{subscribe:e,set:r,update:n}=ct([]);return{subscribe:e,set:r,update:n,add(a){const i=Ki("zone");return n(s=>[...s,{id:i,...a}]),i},updateZone(a,i){n(s=>s.map(o=>o.id===a?{...o,...i}:o))},remove(a){n(i=>i.filter(s=>s.id!==a))},clear(){r([])}}}function ml(){const{subscribe:e,set:r,update:n}=ct([]);return{subscribe:e,set:r,update:n,add(a,i,s=!1){const o=Ki("obj"),c=Math.round(a),l=Math.round(i);return n(d=>[...d,{id:o,x:c,y:l,isPrimary:s}]),o},updateObjective(a,i){n(s=>s.map(o=>o.id===a?{...o,...i}:o))},remove(a){n(i=>i.filter(s=>s.id!==a))},clear(){r([])}}}_l();ml();const bl=[{name:"Dawn of War",zones:[{name:"Player 1",color:"rgba(59, 130, 246, 0.1)",borderColor:"#3b82f6",path:[{type:"M",x:0,y:32},{type:"L",x:60,y:32},{type:"L",x:60,y:44},{type:"L",x:0,y:44},{type:"Z"}]},{name:"Player 2",color:"rgba(239, 68, 68, 0.1)",borderColor:"#ef4444",path:[{type:"M",x:0,y:0},{type:"L",x:60,y:0},{type:"L",x:60,y:12},{type:"L",x:0,y:12},{type:"Z"}]}],objectives:[{x:30,y:22,isPrimary:!0},{x:10,y:22,isPrimary:!1},{x:50,y:22,isPrimary:!1},{x:30,y:6,isPrimary:!1},{x:30,y:38,isPrimary:!1}]},{name:"Hammer and Anvil",zones:[{name:"Player 1",color:"rgba(59, 130, 246, 0.1)",borderColor:"#3b82f6",path:[{type:"M",x:0,y:0},{type:"L",x:18,y:0},{type:"L",x:18,y:44},{type:"L",x:0,y:44},{type:"Z"}]},{name:"Player 2",color:"rgba(239, 68, 68, 0.1)",borderColor:"#ef4444",path:[{type:"M",x:42,y:0},{type:"L",x:60,y:0},{type:"L",x:60,y:44},{type:"L",x:42,y:44},{type:"Z"}]}],objectives:[{x:30,y:22,isPrimary:!0},{x:30,y:6,isPrimary:!1},{x:30,y:38,isPrimary:!1},{x:10,y:22,isPrimary:!1},{x:50,y:22,isPrimary:!1}]},{name:"Tipping Point",zones:[{name:"Player 1",color:"rgba(59, 130, 246, 0.1)",borderColor:"#3b82f6",path:[{type:"M",x:0,y:0},{type:"L",x:12,y:0},{type:"L",x:12,y:22},{type:"L",x:20,y:22},{type:"L",x:20,y:44},{type:"L",x:0,y:44},{type:"Z"}]},{name:"Player 2",color:"rgba(239, 68, 68, 0.1)",borderColor:"#ef4444",path:[{type:"M",x:40,y:0},{type:"L",x:60,y:0},{type:"L",x:60,y:44},{type:"L",x:48,y:44},{type:"L",x:48,y:22},{type:"L",x:40,y:22},{type:"Z"}]}],objectives:[{x:30,y:22,isPrimary:!0},{x:14,y:34,isPrimary:!1},{x:22,y:8,isPrimary:!1},{x:38,y:36,isPrimary:!1},{x:46,y:10,isPrimary:!1}]},{name:"Search and Destroy",zones:[{name:"Player 1",color:"rgba(59, 130, 246, 0.1)",borderColor:"#3b82f6",path:[{type:"M",x:0,y:22},{type:"L",x:21,y:22},{type:"A",rx:9,ry:9,rotation:0,largeArc:0,sweep:0,x:30,y:31},{type:"L",x:30,y:44},{type:"L",x:0,y:44},{type:"Z"}]},{name:"Player 2",color:"rgba(239, 68, 68, 0.1)",borderColor:"#ef4444",path:[{type:"M",x:30,y:0},{type:"L",x:30,y:13},{type:"A",rx:9,ry:9,rotation:0,largeArc:0,sweep:1,x:39,y:22},{type:"L",x:60,y:22},{type:"L",x:60,y:0},{type:"Z"}]}],objectives:[{x:30,y:22,isPrimary:!0},{x:14,y:10,isPrimary:!1},{x:46,y:34,isPrimary:!1},{x:14,y:34,isPrimary:!1},{x:46,y:10,isPrimary:!1}]},{name:"Sweeping Engagement",zones:[{name:"Player 1",color:"rgba(59, 130, 246, 0.1)",borderColor:"#3b82f6",path:[{type:"M",x:0,y:0},{type:"L",x:0,y:8},{type:"L",x:30,y:8},{type:"L",x:30,y:14},{type:"L",x:60,y:14},{type:"L",x:60,y:0},{type:"Z"}]},{name:"Player 2",color:"rgba(239, 68, 68, 0.1)",borderColor:"#ef4444",path:[{type:"M",x:0,y:44},{type:"L",x:60,y:44},{type:"L",x:60,y:36},{type:"L",x:30,y:36},{type:"L",x:30,y:30},{type:"L",x:0,y:30},{type:"Z"}]}],objectives:[{x:30,y:22,isPrimary:!0},{x:10,y:18,isPrimary:!1},{x:50,y:26,isPrimary:!1},{x:18,y:38,isPrimary:!1},{x:42,y:6,isPrimary:!1}]},{name:"Crucible of Battle",zones:[{name:"Player 1",color:"rgba(59, 130, 246, 0.1)",borderColor:"#3b82f6",path:[{type:"M",x:0,y:0},{type:"L",x:30,y:44},{type:"L",x:0,y:44},{type:"Z"}]},{name:"Player 2",color:"rgba(239, 68, 68, 0.1)",borderColor:"#ef4444",path:[{type:"M",x:60,y:44},{type:"L",x:30,y:0},{type:"L",x:60,y:0},{type:"Z"}]}],objectives:[{x:30,y:22,isPrimary:!0},{x:20,y:8,isPrimary:!1},{x:40,y:36,isPrimary:!1},{x:14,y:34,isPrimary:!1},{x:46,y:10,isPrimary:!1}]}];function ta(e){return e.map(r=>{switch(r.type){case"M":return`M ${r.x} ${r.y}`;case"L":return`L ${r.x} ${r.y}`;case"A":return`A ${r.rx} ${r.ry} ${r.rotation} ${r.largeArc} ${r.sweep} ${r.x} ${r.y}`;case"Z":return"Z";default:return""}}).join(" ")}const Mn=ct(null),Br=ct(null),dn=ct(null),Zi=Lr([Br,dn],([e,r])=>{if(!e)return{terrains:[],walls:[]};if(r==="preset"){const n=Yi.find(a=>a.name===e);return n?{terrains:n.terrains||[],walls:n.walls||[]}:{terrains:[],walls:[]}}else if(r==="saved"){const n=localStorage.getItem("warhammer-deployment-layouts");if(n)try{const a=JSON.parse(n);if(a[e])return{terrains:a[e].terrains||[],walls:a[e].walls||[]}}catch(a){console.error("Failed to load layout:",a)}}return{terrains:[],walls:[]}});var wl=se('<div class="selected-item svelte-1jotvmi"><span class="selected-name svelte-1jotvmi"> </span> <button class="small secondary svelte-1jotvmi">Change</button></div>'),Ll=se('<button class="svelte-1jotvmi"> </button>'),Sl=se('<div class="button-group svelte-1jotvmi"></div>'),kl=se('<div class="selected-item svelte-1jotvmi"><span class="selected-name svelte-1jotvmi"> </span> <button class="small secondary svelte-1jotvmi">Change</button></div>'),Ml=se('<button class="svelte-1jotvmi"> </button>'),El=se('<button class="svelte-1jotvmi"> </button>'),Tl=se('<div class="layout-group svelte-1jotvmi"><h4 class="svelte-1jotvmi">Saved</h4> <div class="button-group svelte-1jotvmi"></div></div>'),Pl=se('<div class="layout-sections svelte-1jotvmi"><div class="layout-group svelte-1jotvmi"><h4 class="svelte-1jotvmi">Presets</h4> <div class="button-group svelte-1jotvmi"></div></div> <!></div>'),$l=se('<div class="summary-row svelte-1jotvmi"><span class="label svelte-1jotvmi">Objectives:</span> <span class="value svelte-1jotvmi"> </span></div>'),Dl=se('<div class="summary-row svelte-1jotvmi"><span class="label svelte-1jotvmi">Pieces:</span> <span class="value svelte-1jotvmi"> </span></div>'),Rl=se('<div class="summary svelte-1jotvmi"><div class="summary-row svelte-1jotvmi"><span class="label svelte-1jotvmi">Deployment:</span> <span class="value svelte-1jotvmi"> </span></div> <div class="summary-row svelte-1jotvmi"><span class="label svelte-1jotvmi">Terrain:</span> <span class="value svelte-1jotvmi"> </span></div> <!> <!></div>'),Al=ue('<path stroke-width="0.10" stroke-dasharray="0.5,0.25"></path>'),Cl=ue('<circle stroke-width="0.05" stroke-dasharray="0.3,0.15"></circle><circle stroke="#000" stroke-width="0.06"></circle><circle r="0.15" fill="#000"></circle>',1),Il=ue("<!><!>",1),Ol=ue('<g><rect fill="rgba(139, 90, 43, 0.6)" stroke="#8b5a2b" stroke-width="0.1"></rect></g>'),Nl=ue('<g><path fill="rgba(139, 69, 19, 0.8)" stroke="#5c3317" stroke-width="0.1"></path></g>'),Wl=ue("<!><!><!>",1),jl=se('<main class="svelte-1jotvmi"><div class="header svelte-1jotvmi"><h1 class="svelte-1jotvmi">Battlefield Setup</h1> <nav class="nav-links svelte-1jotvmi"><a href="#/setup" class="active svelte-1jotvmi">Battlefield Setup</a> <a href="#/deployment" class="svelte-1jotvmi">Deployment</a> <a href="#/" class="svelte-1jotvmi">Layout Builder</a> <a href="#/debug" class="svelte-1jotvmi">Debug Mode</a></nav></div> <div class="layout svelte-1jotvmi"><div class="sidebar svelte-1jotvmi"><!> <!> <!></div> <div class="battlefield-area svelte-1jotvmi"><div class="battlefield-container svelte-1jotvmi"><!></div> <div class="info svelte-1jotvmi"><p class="svelte-1jotvmi">Battlefield: 60" x 44"</p> <p class="hint svelte-1jotvmi">Scroll to zoom | Space+drag to pan | Double-click to reset view</p></div></div></div></main>');function Yl(e,r){jt(r,!1);const n=()=>qe(Mn,"$selectedDeployment",o),a=()=>qe(Br,"$selectedLayoutName",o),i=()=>qe(pa,"$savedLayoutsList",o),s=()=>qe(Zi,"$loadedTerrain",o),[o,c]=jn();tn(()=>{sn()});function l(N){Mn.set(N)}function d(N){Br.set(N.name),dn.set("preset")}function f(N){Br.set(N),dn.set("saved")}function y(){Br.set(null),dn.set(null)}function _(){Mn.set(null)}function h(N){let ae=[];switch(N.shape){case"L-4x8":ae=[{x:0,y:0},{x:.5,y:0},{x:.5,y:8-.5},{x:4,y:8-.5},{x:4,y:8},{x:0,y:8}];break;case"L-4x8-mirror":ae=[{x:0,y:0},{x:.5,y:0},{x:.5,y:8},{x:-4+.5,y:8},{x:-4+.5,y:8-.5},{x:0,y:8-.5}];break;case"C-4-8-4":ae=[{x:0,y:0},{x:4,y:0},{x:4,y:.5},{x:.5,y:.5},{x:.5,y:8-.5},{x:4,y:8-.5},{x:4,y:8},{x:0,y:8}];break;case"L-5x6":ae=[{x:0,y:0},{x:.5,y:0},{x:.5,y:6-.5},{x:5,y:6-.5},{x:5,y:6},{x:0,y:6}];break;case"L-5x6-mirror":ae=[{x:0,y:0},{x:.5,y:0},{x:.5,y:6},{x:-5+.5,y:6},{x:-5+.5,y:6-.5},{x:0,y:6-.5}];break;case"L-4x6":ae=[{x:0,y:0},{x:.5,y:0},{x:.5,y:6-.5},{x:4,y:6-.5},{x:4,y:6},{x:0,y:6}];break;case"L-4x6-mirror":ae=[{x:0,y:0},{x:.5,y:0},{x:.5,y:6},{x:-4+.5,y:6},{x:-4+.5,y:6-.5},{x:0,y:6-.5}];break;default:return""}return`M ${ae.map($e=>`${N.x+$e.x},${N.y+$e.y}`).join(" L ")} Z`}function S(N){switch(N.shape){case"L-4x8":return{x:N.x+2,y:N.y+4};case"L-4x8-mirror":return{x:N.x-2+.5,y:N.y+4};case"C-4-8-4":return{x:N.x+2,y:N.y+4};case"L-5x6":return{x:N.x+2.5,y:N.y+3};case"L-5x6-mirror":return{x:N.x-2.5+.5,y:N.y+3};case"L-4x6":return{x:N.x+2,y:N.y+3};case"L-4x6-mirror":return{x:N.x-2+.5,y:N.y+3};default:return{x:N.x,y:N.y}}}Gt();var E=jl(),w=p(x(E),2),L=x(w),T=x(L);gt(T,{title:"Deployment",children:(N,he)=>{var ae=et(),$e=me(ae);{var Re=J=>{var de=wl(),fe=x(de),Te=x(fe),q=p(fe,2);W(()=>Ee(Te,n().name)),X("click",q,_),b(J,de)},Ge=J=>{var de=Sl();Le(de,5,()=>bl,Ne,(fe,Te)=>{var q=Ll(),ye=x(q);W(()=>Ee(ye,t(Te).name)),X("click",q,()=>l(t(Te))),b(fe,q)}),b(J,de)};ce($e,J=>{n()?J(Re):J(Ge,!1)})}b(N,ae)},$$slots:{default:!0}});var C=p(T,2);gt(C,{title:"Terrain Layout",children:(N,he)=>{var ae=et(),$e=me(ae);{var Re=J=>{var de=kl(),fe=x(de),Te=x(fe),q=p(fe,2);W(()=>Ee(Te,a())),X("click",q,y),b(J,de)},Ge=J=>{var de=Pl(),fe=x(de),Te=p(x(fe),2);Le(Te,5,()=>Yi,Ne,(Z,ie)=>{var pe=Ml(),te=x(pe);W(()=>Ee(te,t(ie).name)),X("click",pe,()=>d(t(ie))),b(Z,pe)});var q=p(fe,2);{var ye=Z=>{var ie=Tl(),pe=p(x(ie),2);Le(pe,5,i,Ne,(te,be)=>{var Me=El(),Ie=x(Me);W(()=>Ee(Ie,t(be).name)),X("click",Me,()=>f(t(be).name)),b(te,Me)}),b(Z,ie)};ce(q,Z=>{i().length>0&&Z(ye)})}b(J,de)};ce($e,J=>{a()?J(Re):J(Ge,!1)})}b(N,ae)},$$slots:{default:!0}});var G=p(C,2);gt(G,{title:"Summary",children:(N,he)=>{var ae=Rl(),$e=x(ae),Re=p(x($e),2),Ge=x(Re),J=p($e,2),de=p(x(J),2),fe=x(de),Te=p(J,2);{var q=ie=>{var pe=$l(),te=p(x(pe),2),be=x(te);W(()=>Ee(be,n().objectives.length)),b(ie,pe)};ce(Te,ie=>{n()&&ie(q)})}var ye=p(Te,2);{var Z=ie=>{var pe=Dl(),te=p(x(pe),2),be=x(te);W(()=>Ee(be,`${s().terrains.length??""} terrain, ${s().walls.length??""} walls`)),b(ie,pe)};ce(ye,ie=>{(s().terrains.length>0||s().walls.length>0)&&ie(Z)})}W(()=>{Ee(Ge,n()?.name||"None"),Ee(fe,a()||"None")}),b(N,ae)},$$slots:{default:!0}});var ne=p(L,2),ke=x(ne),oe=x(ke);Yn(oe,{children:(N,he)=>{var ae=Wl(),$e=me(ae);{var Re=de=>{var fe=Il(),Te=me(fe);Le(Te,1,()=>n().zones,Ne,(ye,Z)=>{var ie=Al();W(pe=>{v(ie,"d",pe),v(ie,"fill",t(Z).color),v(ie,"stroke",t(Z).borderColor)},[()=>ta(t(Z).path)]),b(ye,ie)});var q=p(Te);Le(q,1,()=>n().objectives,Ne,(ye,Z)=>{const ie=Xe(()=>t(Z).isPrimary?"#fbbf24":"#9ca3af"),pe=Xe(()=>t(Z).isPrimary?"rgba(251, 191, 36, 0.15)":"rgba(156, 163, 175, 0.15)");var te=Cl(),be=me(te),Me=p(be),Ie=p(Me);W(()=>{v(be,"cx",t(Z).x),v(be,"cy",t(Z).y),v(be,"r",Ui),v(be,"fill",t(pe)),v(be,"stroke",t(ie)),v(Me,"cx",t(Z).x),v(Me,"cy",t(Z).y),v(Me,"r",Xi),v(Me,"fill",t(ie)),v(Ie,"cx",t(Z).x),v(Ie,"cy",t(Z).y)}),b(ye,te)}),b(de,fe)};ce($e,de=>{n()&&de(Re)})}var Ge=p($e);Le(Ge,1,()=>s().terrains,Ne,(de,fe)=>{const Te=Xe(()=>t(fe).x+t(fe).width/2),q=Xe(()=>t(fe).y+t(fe).height/2);var ye=Ol(),Z=x(ye);W(()=>{v(ye,"transform",`rotate(${t(fe).rotation??""}, ${t(Te)??""}, ${t(q)??""})`),v(Z,"x",t(fe).x),v(Z,"y",t(fe).y),v(Z,"width",t(fe).width),v(Z,"height",t(fe).height)}),b(de,ye)});var J=p(Ge);Le(J,1,()=>s().walls,Ne,(de,fe)=>{const Te=Xe(()=>S(t(fe)));var q=Nl(),ye=x(q);W(Z=>{v(q,"transform",`rotate(${t(fe).rotation??""}, ${t(Te).x??""}, ${t(Te).y??""})`),v(ye,"d",Z)},[()=>h(t(fe))]),b(de,q)}),b(N,ae)},$$slots:{default:!0}}),b(e,E),Yt(),c()}function zi(){const{subscribe:e,set:r,update:n}=ct({past:[],future:[]});return{subscribe:e,push(a){n(i=>({past:[...i.past,a],future:[]}))},undo(){let a=null;return n(i=>{if(i.past.length===0)return i;const s=[...i.past];return a=s.pop(),{past:s,future:[a,...i.future]}}),a},redo(){let a=null;return n(i=>{if(i.future.length===0)return i;const s=[...i.future];return a=s.shift(),{past:[...i.past,a],future:s}}),a},canUndo(){return cr({subscribe:e}).past.length>0},canRedo(){return cr({subscribe:e}).future.length>0},clear(){r({past:[],future:[]})}}}const on=zi(),ra=zi(),st=1/25.4,Wt={circles:[{type:"25mm",radius:25*st/2,label:"25mm"},{type:"28.5mm",radius:28.5*st/2,label:"28mm.5"},{type:"32mm",radius:32*st/2,label:"32mm"},{type:"40mm",radius:40*st/2,label:"40mm"},{type:"50mm",radius:50*st/2,label:"50mm"},{type:"60mm",radius:60*st/2,label:"60mm"},{type:"80mm",radius:80*st/2,label:"80mm"},{type:"90mm",radius:90*st/2,label:"90mm"},{type:"100mm",radius:100*st/2,label:"100mm"},{type:"130mm",radius:130*st/2,label:"130mm"}],ovals:[{type:"60x35.5mm",width:60*st,height:35.5*st,label:"60Ã35.5mm"},{type:"75x42mm",width:75*st,height:42*st,label:"75Ã42mm"},{type:"90x52.5mm",width:90*st,height:52.5*st,label:"90Ã52.5mm"},{type:"105x70mm",width:105*st,height:70*st,label:"105Ã70mm"},{type:"120x90mm",width:120*st,height:90*st,label:"120Ã90mm"}]};function tr(e,r=null){const n=Wt.circles.find(i=>i.type===e);if(n)return n;const a=Wt.ovals.find(i=>i.type===e);return a||(Mr(e)&&r?{type:e,width:r.customWidth,height:r.customHeight,label:`${r.customWidth.toFixed(1)}"Ã${r.customHeight.toFixed(1)}"`}:null)}function rr(e){return Wt.ovals.some(r=>r.type===e)}function Mr(e){return e&&e.startsWith("rect-")}function Hl(){return"model-"+Date.now()+"-"+Math.random().toString(36).substr(2,9)}function Vi(e){const{subscribe:r,set:n,update:a}=ct([]);return{subscribe:r,set:n,update:a,add(i,s,o,c,l=null,d=!1){const f=Hl(),y={id:f,baseType:i,playerId:s,x:o,y:c,rotation:0};return l&&l.width&&l.height&&(y.customWidth=l.width,y.customHeight=l.height),a(_=>[..._,y]),!d&&e&&e.push({type:"add",modelId:f,model:{...y}}),f},updateModel(i,s,o=!1){let c=null,l=null;if(!o&&e){const f=cr({subscribe:r}).find(y=>y.id===i);f&&(c={...f},"x"in s||"y"in s?l="move":"rotation"in s&&(l="rotate"))}if(a(d=>d.map(f=>f.id===i?{...f,...s}:f)),!o&&e&&l&&c){const f=cr({subscribe:r}).find(y=>y.id===i);e.push({type:l,modelId:i,before:l==="move"?{x:c.x,y:c.y}:{rotation:c.rotation},after:l==="move"?{x:f.x,y:f.y}:{rotation:f.rotation}})}},remove(i,s=!1){let o=null;!s&&e&&(o=cr({subscribe:r}).find(l=>l.id===i)),a(c=>c.filter(l=>l.id!==i)),!s&&e&&o&&e.push({type:"remove",modelId:i,model:{...o}})},removeByPlayer(i){a(s=>s.filter(o=>o.playerId!==i))},clear(){n([]),e&&e.clear()},undo(){if(!e)return;const i=e.undo();if(i)switch(i.type){case"add":this.remove(i.modelId,!0);break;case"remove":a(s=>[...s,i.model]);break;case"move":this.updateModel(i.modelId,i.before,!0);break;case"rotate":this.updateModel(i.modelId,i.before,!0);break}},redo(){if(!e)return;const i=e.redo();if(i)switch(i.type){case"add":a(s=>[...s,i.model]);break;case"remove":this.remove(i.modelId,!0);break;case"move":this.updateModel(i.modelId,i.after,!0);break;case"rotate":this.updateModel(i.modelId,i.after,!0);break}}}}const ut=Vi(on),Bl=Lr(ut,e=>e.filter(r=>r.playerId===1)),Fl=Lr(ut,e=>e.filter(r=>r.playerId===2)),gr=ct(null);Lr([ut,gr],([e,r])=>r?e.find(n=>n.id===r):null);const pr=Vi(ra),kr=ct(null);Lr([pr,kr],([e,r])=>r?e.find(n=>n.id===r):null);var Xl=ue('<g><rect role="button" tabindex="0" class="svelte-hycs6b"></rect></g>'),Ul=ue('<g><ellipse role="button" tabindex="0" class="svelte-hycs6b"></ellipse></g>'),Kl=ue('<circle role="button" tabindex="0" class="svelte-hycs6b"></circle>'),Zl=ue('<text text-anchor="middle" dominant-baseline="middle" font-size="0.4" font-weight="bold" fill="white" pointer-events="none" class="model-name"> </text>'),zl=ue('<line stroke-width="0.08" stroke-dasharray="0.2,0.1"></line><circle r="0.6" stroke-width="0.08" role="button" tabindex="0" class="rotate-handle svelte-hycs6b"></circle>',1),Vl=ue("<g><!><!><!></g>");function An(e,r){jt(r,!1);const n=D(),a=D(),i=D(),s=D(),o=D(),c=D(),l=D(),d=D(),f=D(),y=D(),_=D(),h=D(),S=D(),E=D(),w=D();let L=_e(r,"id",8),T=_e(r,"x",8),C=_e(r,"y",8),G=_e(r,"baseType",8),ne=_e(r,"playerId",8),ke=_e(r,"rotation",8,0),oe=_e(r,"selected",8,!1),N=_e(r,"name",8,""),he=_e(r,"customWidth",8,null),ae=_e(r,"customHeight",8,null),$e=_e(r,"screenToSvg",8),Re=_e(r,"onSelect",8,()=>{}),Ge=_e(r,"onDrag",8,()=>{}),J=_e(r,"onDragEnd",8,()=>{}),de=_e(r,"onRotate",8,()=>{}),fe=_e(r,"onRotateEnd",8,()=>{}),Te=_e(r,"onRename",8,()=>{}),q=D(!1),ye=!1,Z={x:0,y:0},ie=null,pe=null;function te($){$.stopPropagation(),Re()(L())}function be($){$.stopPropagation();const F=prompt("Model name:",N());F!==null&&Te()(L(),F)}function Me($){if($.button!==0)return;$.preventDefault(),$.stopPropagation(),Re()(L()),m(q,!0),ie={x:T(),y:C()};const F=$e()($.clientX,$.clientY);Z={x:F.x-T(),y:F.y-C()},window.addEventListener("mousemove",Ie),window.addEventListener("mouseup",rt)}function Ie($){if(!t(q))return;const F=$e()($.clientX,$.clientY);let le=F.x-Z.x,Se=F.y-Z.y;Ge()(L(),le,Se)}function rt(){t(q)&&ie&&((ie.x!==T()||ie.y!==C())&&J()(L(),ie.x,ie.y,T(),C()),ie=null),m(q,!1),window.removeEventListener("mousemove",Ie),window.removeEventListener("mouseup",rt)}function re($){$.preventDefault(),$.stopPropagation(),ye=!0,pe=ke(),window.addEventListener("mousemove",K),window.addEventListener("mouseup",xe)}function K($){if(!ye)return;const F=$e()($.clientX,$.clientY),le=F.x-T(),Se=F.y-C();let k=Math.atan2(Se,le)*180/Math.PI+45;$.shiftKey||(k=Math.round(k/15)*15),de()(L(),k)}function xe(){ye&&pe!==null&&(pe!==ke()&&fe()(L(),pe,ke()),pe=null),ye=!1,window.removeEventListener("mousemove",K),window.removeEventListener("mouseup",xe)}ee(()=>(j(he()),j(ae())),()=>{m(n,{customWidth:he(),customHeight:ae()})}),ee(()=>(j(G()),t(n)),()=>{m(a,tr(G(),t(n)))}),ee(()=>j(G()),()=>{m(i,rr(G()))}),ee(()=>j(G()),()=>{m(s,Mr(G()))}),ee(()=>j(ne()),()=>{m(o,ne()===1?"#3b82f6":"#ef4444")}),ee(()=>j(ne()),()=>{m(c,ne()===1?"rgba(59, 130, 246, 0.5)":"rgba(239, 68, 68, 0.5)")}),ee(()=>j(oe()),()=>{m(l,oe()?.15:.1)}),ee(()=>t(a),()=>{m(d,t(a)?.radius||.5)}),ee(()=>t(a),()=>{m(f,t(a)?.width?t(a).width/2:0)}),ee(()=>t(a),()=>{m(y,t(a)?.height?t(a).height/2:0)}),ee(()=>(t(s),j(he())),()=>{m(_,t(s)&&he()||0)}),ee(()=>(t(s),j(ae())),()=>{m(h,t(s)&&ae()||0)}),ee(()=>(t(i),t(f),t(y),t(s),t(_),t(h)),()=>{m(S,t(i)?Math.max(t(f),t(y))+1:t(s)?Math.max(t(_),t(h))/2+1:0)}),ee(()=>(j(T()),t(S),j(ke())),()=>{m(E,T()+t(S)*Math.cos((ke()-45)*Math.PI/180))}),ee(()=>(j(C()),t(S),j(ke())),()=>{m(w,C()+t(S)*Math.sin((ke()-45)*Math.PI/180))}),wr(),Gt();var Y=Vl();let nt;var at=x(Y);{var Ze=$=>{var F=Xl(),le=x(F);W(()=>{v(F,"transform",`rotate(${ke()??""}, ${T()??""}, ${C()??""})`),v(le,"x",T()-t(_)/2),v(le,"y",C()-t(h)/2),v(le,"width",t(_)),v(le,"height",t(h)),v(le,"fill",oe()?t(o):t(c)),v(le,"stroke",t(o)),v(le,"stroke-width",t(l))}),X("click",le,te),X("dblclick",le,be),X("mousedown",le,Me),b($,F)},Oe=$=>{var F=et(),le=me(F);{var Se=U=>{var H=Ul(),z=x(H);W(()=>{v(H,"transform",`rotate(${ke()??""}, ${T()??""}, ${C()??""})`),v(z,"cx",T()),v(z,"cy",C()),v(z,"rx",t(f)),v(z,"ry",t(y)),v(z,"fill",oe()?t(o):t(c)),v(z,"stroke",t(o)),v(z,"stroke-width",t(l))}),X("click",z,te),X("dblclick",z,be),X("mousedown",z,Me),b(U,H)},k=U=>{var H=Kl();W(()=>{v(H,"cx",T()),v(H,"cy",C()),v(H,"r",t(d)),v(H,"fill",oe()?t(o):t(c)),v(H,"stroke",t(o)),v(H,"stroke-width",t(l))}),X("click",H,te),X("dblclick",H,be),X("mousedown",H,Me),b(U,H)};ce(le,U=>{t(i)?U(Se):U(k,!1)},!0)}b($,F)};ce(at,$=>{t(s)?$(Ze):$(Oe,!1)})}var ot=p(at);{var Ht=$=>{var F=Zl(),le=x(F);W(()=>{v(F,"x",T()),v(F,"y",C()),Ee(le,N())}),b($,F)};ce(ot,$=>{N()&&$(Ht)})}var Bt=p(ot);{var R=$=>{var F=zl(),le=me(F),Se=p(le);W(()=>{v(le,"x1",T()),v(le,"y1",C()),v(le,"x2",t(E)),v(le,"y2",t(w)),v(le,"stroke",t(o)),v(Se,"cx",t(E)),v(Se,"cy",t(w)),v(Se,"fill",t(o)),v(Se,"stroke",ne()===1?"#1d4ed8":"#b91c1c")}),X("mousedown",Se,re),b($,F)};ce(Bt,$=>{oe()&&(t(i)||t(s))&&$(R)})}W(()=>nt=Zt(Y,0,"model-base svelte-hycs6b",null,nt,{selected:oe(),dragging:t(q)})),b(e,Y),Yt()}var ql=ue('<ellipse fill="none" stroke-width="2"></ellipse>'),Gl=ue('<circle fill="none" stroke-width="2"></circle>'),Jl=se('<button class="palette-item svelte-1urec28"><svg class="svelte-1urec28"><!></svg> <span class="label svelte-1urec28"> </span></button>');function Cn(e,r){jt(r,!1);const n=D(),a=D(),i=D(),s=D(),o=D(),c=D();let l=_e(r,"baseSize",8),d=_e(r,"playerId",8),f=_e(r,"onDragStart",8,()=>{});const y=3;function _(G){G.button===0&&(G.preventDefault(),f()(l(),G))}ee(()=>j(d()),()=>{m(n,d()===1?"#3b82f6":"#ef4444")}),ee(()=>j(l()),()=>{m(a,l().width!==void 0)}),ee(()=>(t(a),j(l())),()=>{m(i,t(a)?null:l().radius*y)}),ee(()=>(t(a),j(l())),()=>{m(s,t(a)?l().width/2*y:null)}),ee(()=>(t(a),j(l())),()=>{m(o,t(a)?l().height/2*y:null)}),ee(()=>(t(a),j(l())),()=>{m(c,t(a)?Math.max(l().width,l().height)*y:l().radius*2*y)}),wr(),Gt();var h=Jl(),S=x(h),E=x(S);{var w=G=>{var ne=ql();W(()=>{v(ne,"cx",(t(c)+8)/2),v(ne,"cy",(t(c)+8)/2),v(ne,"rx",t(s)),v(ne,"ry",t(o)),v(ne,"stroke",t(n))}),b(G,ne)},L=G=>{var ne=Gl();W(()=>{v(ne,"cx",(t(c)+8)/2),v(ne,"cy",(t(c)+8)/2),v(ne,"r",t(i)),v(ne,"stroke",t(n))}),b(G,ne)};ce(E,G=>{t(a)?G(w):G(L,!1)})}var T=p(S,2),C=x(T);W(()=>{fo(h,`border-color: ${t(n)??""}`),v(h,"title",(j(l()),u(()=>l().label))),v(S,"width",t(c)+8),v(S,"height",t(c)+8),v(S,"viewBox",`0 0 ${t(c)+8} ${t(c)+8}`),Ee(C,(j(l()),u(()=>l().label)))}),X("mousedown",h,_),b(e,h),Yt()}var Ql=se('<div class="player-toggle svelte-1g40uyy"><button>Player 1</button> <button>Player 2</button></div> <div class="base-palette svelte-1g40uyy"><div class="palette-section svelte-1g40uyy"><h4 class="svelte-1g40uyy">Circles</h4> <div class="palette-grid svelte-1g40uyy"></div></div> <div class="palette-section svelte-1g40uyy"><h4 class="svelte-1g40uyy">Ovals</h4> <div class="palette-grid svelte-1g40uyy"></div></div></div>',1),ec=se('<div class="rect-hull-form svelte-1g40uyy"><div class="field svelte-1g40uyy"><label for="rect-width" class="svelte-1g40uyy">Width (inches)</label> <input id="rect-width" type="number" min="1" max="20" step="0.5" class="svelte-1g40uyy"/></div> <div class="field svelte-1g40uyy"><label for="rect-height" class="svelte-1g40uyy">Height (inches)</label> <input id="rect-height" type="number" min="1" max="20" step="0.5" class="svelte-1g40uyy"/></div> <button class="svelte-1g40uyy"> </button></div>'),tc=se('<div class="field svelte-1g40uyy"><span class="label-text svelte-1g40uyy">Rotation</span> <span class="value svelte-1g40uyy"> </span></div>'),rc=se('<div class="field svelte-1g40uyy"><label class="checkbox-label svelte-1g40uyy"><input type="checkbox" class="svelte-1g40uyy"/> Show Debug Rays</label></div>'),nc=se('<div class="field svelte-1g40uyy"><span class="label-text svelte-1g40uyy">LoS Status</span> <span class="value svelte-1g40uyy"> </span></div>'),ac=se('<div class="edit-form svelte-1g40uyy"><div class="field svelte-1g40uyy"><label for="model-name">Name</label> <input id="model-name" type="text"/></div> <div class="field svelte-1g40uyy"><span class="label-text svelte-1g40uyy">Base Type</span> <span class="value svelte-1g40uyy"> </span></div> <div class="field svelte-1g40uyy"><span class="label-text svelte-1g40uyy">Player</span> <span class="value svelte-1g40uyy"> </span></div> <div class="field svelte-1g40uyy"><span class="label-text svelte-1g40uyy">Position</span> <span class="value svelte-1g40uyy"> </span></div> <!> <div class="field svelte-1g40uyy"><label class="checkbox-label svelte-1g40uyy"><input type="checkbox" class="svelte-1g40uyy"/> Show Line of Sight</label></div> <!> <!> <button class="danger svelte-1g40uyy">Remove</button></div>'),ic=se('<p class="hint svelte-1g40uyy">Click a model to select it</p>'),sc=se('<div class="visualization-options svelte-1g40uyy"><label class="checkbox-label svelte-1g40uyy"><input type="checkbox" class="svelte-1g40uyy"/> P1 Denial Zones (9")</label> <label class="checkbox-label svelte-1g40uyy"><input type="checkbox" class="svelte-1g40uyy"/> P2 Denial Zones (9")</label></div>'),oc=se('<div class="button-group vertical svelte-1g40uyy"><div class="button-row svelte-1g40uyy"><button title="Undo (Ctrl+Z)" class="svelte-1g40uyy">Undo</button> <button title="Redo (Ctrl+Y)" class="svelte-1g40uyy">Redo</button></div> <button class="svelte-1g40uyy">Save State</button> <button class="svelte-1g40uyy">Restore State</button> <button class="secondary svelte-1g40uyy">Clear All Models</button> <button class="secondary svelte-1g40uyy">Clear Saved State</button></div>'),lc=ue('<path stroke-width="0.10" stroke-dasharray="0.5,0.25" pointer-events="none"></path>'),cc=ue('<circle stroke-width="0.05" stroke-dasharray="0.3,0.15" pointer-events="none"></circle><circle stroke="#000" stroke-width="0.06" pointer-events="none"></circle><circle r="0.15" fill="#000" pointer-events="none"></circle>',1),uc=ue("<!><!>",1),dc=ue('<g><rect fill="rgba(59, 130, 246, 0.1)" stroke="rgba(59, 130, 246, 0.3)" stroke-width="0.1" stroke-dasharray="0.5,0.3" pointer-events="none"></rect></g>'),fc=ue('<g><ellipse fill="rgba(59, 130, 246, 0.1)" stroke="rgba(59, 130, 246, 0.3)" stroke-width="0.1" stroke-dasharray="0.5,0.3" pointer-events="none"></ellipse></g>'),vc=ue('<circle fill="rgba(59, 130, 246, 0.1)" stroke="rgba(59, 130, 246, 0.3)" stroke-width="0.1" stroke-dasharray="0.5,0.3" pointer-events="none"></circle>'),hc=ue('<g><rect fill="rgba(239, 68, 68, 0.1)" stroke="rgba(239, 68, 68, 0.3)" stroke-width="0.1" stroke-dasharray="0.5,0.3" pointer-events="none"></rect></g>'),yc=ue('<g><ellipse fill="rgba(239, 68, 68, 0.1)" stroke="rgba(239, 68, 68, 0.3)" stroke-width="0.1" stroke-dasharray="0.5,0.3" pointer-events="none"></ellipse></g>'),gc=ue('<circle fill="rgba(239, 68, 68, 0.1)" stroke="rgba(239, 68, 68, 0.3)" stroke-width="0.1" stroke-dasharray="0.5,0.3" pointer-events="none"></circle>'),pc=ue('<g><rect fill="rgba(139, 90, 43, 0.2)" stroke="#8b5a2b" stroke-width="0.1" pointer-events="none"></rect></g>'),xc=ue('<g opacity="0.5" pointer-events="none"><!></g>'),_c=ue('<line stroke-width="0.05" pointer-events="none"></line>'),mc=ue('<line stroke="#22c55e" stroke-width="0.15" opacity="0.7" pointer-events="none"></line>'),bc=ue('<line stroke="#ef4444" stroke-width="0.1" stroke-dasharray="0.5 0.25" opacity="0.7" pointer-events="none"></line>'),wc=ue("<!><!><!><!><!><!><!><!><!><!>",1),Lc=se('<main class="svelte-1g40uyy"><div class="header svelte-1g40uyy"><h1 class="svelte-1g40uyy">Deployment Practice</h1> <nav class="nav-links svelte-1g40uyy"><a href="#/setup" class="svelte-1g40uyy">Battlefield Setup</a> <a href="#/deployment" class="active svelte-1g40uyy">Deployment</a> <a href="#/" class="svelte-1g40uyy">Layout Builder</a> <a href="#/debug" class="svelte-1g40uyy">Debug Mode</a></nav></div> <div class="layout svelte-1g40uyy"><div class="sidebar svelte-1g40uyy"><!> <!> <!> <!> <!></div> <div class="battlefield-area svelte-1g40uyy"><div class="battlefield-container svelte-1g40uyy" role="presentation"><!></div> <div class="info svelte-1g40uyy"><p class="svelte-1g40uyy"> </p> <p class="hint svelte-1g40uyy">Press 1/2 to switch player | Press L to toggle LoS | Ctrl+Z to undo | Ctrl+Y to redo</p></div></div></div></main>');function Sc(e,r){jt(r,!1);const n=()=>qe(Mn,"$selectedDeployment",y),a=()=>qe(Br,"$selectedLayoutName",y),i=()=>qe(dn,"$selectedLayoutType",y),s=()=>qe(ut,"$models",y),o=()=>qe(gr,"$selectedModelId",y),c=()=>qe(Zi,"$loadedTerrain",y),l=()=>qe(on,"$history",y),d=()=>qe(Bl,"$player1Models",y),f=()=>qe(Fl,"$player2Models",y),[y,_]=jn(),h=D(),S=D(),E=D(),w=D(),L=D();let T=D(1),C=D(null),G=!1,ne=null,ke=D(null),oe=D(!1),N=D(!1),he=D(!1),ae=D(!1),$e=D(5.5),Re=D(3);const Ge=5,J=9,de="warhammer-deployment-state";function fe(){const g={deployment:n()?.name||null,layout:a()||null,layoutType:i()||null,models:s()};localStorage.setItem(de,JSON.stringify(g))}function Te(){const g=localStorage.getItem(de);if(g)try{const A=JSON.parse(g);A.models&&Array.isArray(A.models)&&(ut.set(A.models),on.clear())}catch(A){console.error("Failed to restore deployment state:",A)}}function q(){localStorage.removeItem(de),ut.clear()}tn(()=>{window.addEventListener("keydown",ye)}),Ri(()=>{window.removeEventListener("keydown",ye)});function ye(g){if(g.target.tagName==="INPUT")return;const A=o();if((g.ctrlKey||g.metaKey)&&g.key==="z"&&!g.shiftKey){g.preventDefault(),ut.undo();return}if((g.ctrlKey||g.metaKey)&&(g.key==="y"||g.shiftKey&&g.key==="z")){g.preventDefault(),ut.redo();return}if(g.key==="1"){g.preventDefault(),m(T,1);return}if(g.key==="2"){g.preventDefault(),m(T,2);return}if(g.key==="l"||g.key==="L"){g.preventDefault(),m(oe,!t(oe));return}if((g.key==="Delete"||g.key==="Backspace")&&A){g.preventDefault(),Y();return}if(A&&["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(g.key)){g.preventDefault();const O=g.shiftKey?.1:1;let I=0,V=0;switch(g.key){case"ArrowUp":V=-O;break;case"ArrowDown":V=O;break;case"ArrowLeft":I=-O;break;case"ArrowRight":I=O;break}if(o()){const De=s().find(Q=>Q.id===o());De&&ut.updateModel(o(),{x:De.x+I,y:De.y+V},!1)}return}if(g.key==="Escape"){Z();return}}function Z(){gr.set(null)}function ie(g,A){if(!t(ke))return;G=!0,ne={x:A.clientX,y:A.clientY};const O=t(ke)(A.clientX,A.clientY);m(C,{baseType:g.type,x:O.x,y:O.y}),window.addEventListener("mousemove",pe),window.addEventListener("mouseup",te)}function pe(g){if(!G||!t(C)||!t(ke))return;const A=t(ke)(g.clientX,g.clientY);m(C,{...t(C),x:A.x,y:A.y})}function te(g){if(!G||!t(C)){G=!1,m(C,null),ne=null,window.removeEventListener("mousemove",pe),window.removeEventListener("mouseup",te);return}const A=g.clientX-ne.x,O=g.clientY-ne.y,I=Math.sqrt(A*A+O*O);let V,De;I<Ge?(V=30,De=22):(V=t(C).x,De=t(C).y);const Q=t(C).customWidth&&t(C).customHeight?{width:t(C).customWidth,height:t(C).customHeight}:null,P=ut.add(t(C).baseType,t(T),V,De,Q);gr.set(P),m(C,null),G=!1,ne=null,window.removeEventListener("mousemove",pe),window.removeEventListener("mouseup",te)}function be(){const O={width:t($e),height:t(Re)},I=ut.add("rect-custom",t(T),30,22,O);gr.set(I)}function Me(g){gr.set(g)}function Ie(g,A,O){ut.updateModel(g,{x:A,y:O},!0)}function rt(g,A,O,I,V){on.push({type:"move",modelId:g,before:{x:A,y:O},after:{x:I,y:V}})}function re(g,A){ut.updateModel(g,{rotation:A},!0)}function K(g,A,O){on.push({type:"rotate",modelId:g,before:{rotation:A},after:{rotation:O}})}function xe(g,A){ut.updateModel(g,{name:A})}function Y(){o()&&(ut.remove(o()),gr.set(null))}function nt(){confirm("Clear all models?")&&(ut.clear(),gr.set(null))}function at(g){if(Mr(g.baseType))return{x:g.x,y:g.y,width:g.customWidth,height:g.customHeight,rotation:g.rotation||0,isRectangle:!0};const A=tr(g.baseType,g);return rr(g.baseType)?{x:g.x,y:g.y,rx:A.width/2,ry:A.height/2,rotation:g.rotation||0}:{x:g.x,y:g.y,radius:A.radius}}ee(()=>(s(),o()),()=>{m(h,s().find(g=>g.id===o()))}),ee(()=>(t(h),s()),()=>{m(S,t(h)?s().filter(g=>g.playerId!==t(h).playerId):[])}),ee(()=>(c(),vn),()=>{m(E,c().terrains.map(g=>({id:g.id,vertices:vn(g)})))}),ee(()=>(c(),Vr),()=>{m(w,c().walls.map(g=>ga(Vr(g.shape),g.x,g.y,g.rotation)))}),ee(()=>(t(h),t(oe),t(S),t(E),t(w)),()=>{m(L,t(h)&&t(oe)&&t(S).length>0?t(S).map(g=>{const A=Ii(at(t(h)),at(g),t(E),t(w));return{targetId:g.id,target:g,canSee:A.canSee,firstClearRay:A.firstClearRay,rays:A.rays}}):[])}),wr(),Gt();var Ze=Lc(),Oe=p(x(Ze),2),ot=x(Oe),Ht=x(ot);gt(Ht,{title:"Add Models",children:(g,A)=>{var O=Ql(),I=me(O),V=x(I);let De;var Q=p(V,2);let P;var Ye=p(I,2),Ve=x(Ye),We=p(x(Ve),2);Le(We,5,()=>(j(Wt),u(()=>Wt.circles)),Ne,(ze,He)=>{Cn(ze,{get baseSize(){return t(He)},get playerId(){return t(T)},onDragStart:ie})});var pt=p(Ve,2),mt=p(x(pt),2);Le(mt,5,()=>(j(Wt),u(()=>Wt.ovals)),Ne,(ze,He)=>{Cn(ze,{get baseSize(){return t(He)},get playerId(){return t(T)},onDragStart:ie})}),W(()=>{De=Zt(V,1,"toggle-btn svelte-1g40uyy",null,De,{active:t(T)===1}),P=Zt(Q,1,"toggle-btn svelte-1g40uyy",null,P,{active:t(T)===2})}),X("click",V,()=>m(T,1)),X("click",Q,()=>m(T,2)),b(g,O)},$$slots:{default:!0}});var Bt=p(Ht,2);gt(Bt,{title:"Add Hull (Vehicle)",children:(g,A)=>{var O=ec(),I=x(O),V=p(x(I),2),De=p(I,2),Q=p(x(De),2),P=p(De,2),Ye=x(P);W(()=>Ee(Ye,`Add ${t($e)??""}" Ã ${t(Re)??""}" Hull`)),un(V,()=>t($e),Ve=>m($e,Ve)),un(Q,()=>t(Re),Ve=>m(Re,Ve)),X("click",P,be),b(g,O)},$$slots:{default:!0}});var R=p(Bt,2);gt(R,{title:"Selected Model",children:(g,A)=>{var O=et(),I=me(O);{var V=Q=>{var P=ac(),Ye=x(P),Ve=p(x(Ye),2),We=p(Ye,2),pt=p(x(We),2),mt=x(pt),ze=p(We,2),He=p(x(ze),2),Ue=x(He),it=p(ze,2),Ft=p(x(it),2),vr=x(Ft),Jt=p(it,2);{var Sr=Pe=>{var Ae=tc(),Be=p(x(Ae),2),$t=x(Be);W(tt=>Ee($t,`${tt??""}Â°`),[()=>(t(h),u(()=>Math.round(t(h).rotation||0)))]),b(Pe,Ae)};ce(Jt,Pe=>{j(rr),t(h),u(()=>rr(t(h).baseType))&&Pe(Sr)})}var we=p(Jt,2),B=x(we),Qe=x(B),Ke=p(we,2);{var M=Pe=>{var Ae=rc(),Be=x(Ae),$t=x(Be);an($t,()=>t(N),tt=>m(N,tt)),b(Pe,Ae)};ce(Ke,Pe=>{t(oe)&&Pe(M)})}var ve=p(Ke,2);{var dt=Pe=>{var Ae=nc(),Be=p(x(Ae),2),$t=x(Be);W(tt=>Ee($t,`${tt??""}/${t(L),u(()=>t(L).length)??""} visible`),[()=>(t(L),u(()=>t(L).filter(tt=>tt.canSee).length))]),b(Pe,Ae)};ce(ve,Pe=>{t(oe),t(L),u(()=>t(oe)&&t(L).length>0)&&Pe(dt)})}var Lt=p(ve,2);W((Pe,Ae,Be)=>{yo(Ve,(t(h),u(()=>t(h).name||""))),Ee(mt,Pe),Ee(Ue,`Player ${t(h),u(()=>t(h).playerId)??""}`),Ee(vr,`${Ae??""}", ${Be??""}"`)},[()=>(j(tr),t(h),u(()=>tr(t(h).baseType,t(h))?.label||"Unknown")),()=>(t(h),u(()=>t(h).x.toFixed(1))),()=>(t(h),u(()=>t(h).y.toFixed(1)))]),X("change",Ve,Pe=>xe(t(h).id,Pe.target.value)),an(Qe,()=>t(oe),Pe=>m(oe,Pe)),X("click",Lt,Y),b(Q,P)},De=Q=>{var P=ic();b(Q,P)};ce(I,Q=>{t(h)?Q(V):Q(De,!1)})}b(g,O)},$$slots:{default:!0}});var $=p(R,2);gt($,{title:"Visualization",children:(g,A)=>{var O=sc(),I=x(O),V=x(I),De=p(I,2),Q=x(De);an(V,()=>t(he),P=>m(he,P)),an(Q,()=>t(ae),P=>m(ae,P)),b(g,O)},$$slots:{default:!0}});var F=p($,2);gt(F,{title:"Actions",children:(g,A)=>{var O=oc(),I=x(O),V=x(I),De=p(V,2),Q=p(I,2),P=p(Q,2),Ye=p(P,2),Ve=p(Ye,2);W(()=>{V.disabled=(l(),u(()=>!l().past.length)),De.disabled=(l(),u(()=>!l().future.length))}),X("click",V,()=>ut.undo()),X("click",De,()=>ut.redo()),X("click",Q,fe),X("click",P,Te),X("click",Ye,nt),X("click",Ve,q),b(g,O)},$$slots:{default:!0}});var le=p(ot,2),Se=x(le),k=x(Se);Yn(k,{children:la,$$slots:{default:(g,A)=>{const O=Xe(()=>A.screenToSvg);var I=wc(),V=me(I);{var De=we=>{var B=Ti();W(()=>Ee(B,(t(ke),j(t(O)),u(()=>(m(ke,t(O)),""))))),b(we,B)};ce(V,we=>{t(O)&&!t(ke)&&we(De)})}var Q=p(V);{var P=we=>{var B=uc(),Qe=me(B);Le(Qe,1,()=>(n(),u(()=>n().zones)),Ne,(M,ve)=>{var dt=lc();W(Lt=>{v(dt,"d",Lt),v(dt,"fill",(t(ve),u(()=>t(ve).color))),v(dt,"stroke",(t(ve),u(()=>t(ve).borderColor)))},[()=>(j(ta),t(ve),u(()=>ta(t(ve).path)))]),b(M,dt)});var Ke=p(Qe);Le(Ke,1,()=>(n(),u(()=>n().objectives)),Ne,(M,ve)=>{const dt=Xe(()=>(t(ve),u(()=>t(ve).isPrimary?"#fbbf24":"#9ca3af"))),Lt=Xe(()=>(t(ve),u(()=>t(ve).isPrimary?"rgba(251, 191, 36, 0.15)":"rgba(156, 163, 175, 0.15)")));var Pe=cc(),Ae=me(Pe),Be=p(Ae),$t=p(Be);W(()=>{v(Ae,"cx",(t(ve),u(()=>t(ve).x))),v(Ae,"cy",(t(ve),u(()=>t(ve).y))),v(Ae,"r",Ui),v(Ae,"fill",t(Lt)),v(Ae,"stroke",t(dt)),v(Be,"cx",(t(ve),u(()=>t(ve).x))),v(Be,"cy",(t(ve),u(()=>t(ve).y))),v(Be,"r",Xi),v(Be,"fill",t(dt)),v($t,"cx",(t(ve),u(()=>t(ve).x))),v($t,"cy",(t(ve),u(()=>t(ve).y)))}),b(M,Pe)}),b(we,B)};ce(Q,we=>{n()&&we(P)})}var Ye=p(Q);{var Ve=we=>{var B=et(),Qe=me(B);Le(Qe,1,d,Ke=>Ke.id,(Ke,M)=>{const ve=Xe(()=>(j(tr),t(M),u(()=>tr(t(M).baseType,t(M))))),dt=Xe(()=>(j(rr),t(M),u(()=>rr(t(M).baseType)))),Lt=Xe(()=>(j(Mr),t(M),u(()=>Mr(t(M).baseType))));var Pe=et(),Ae=me(Pe);{var Be=tt=>{var St=dc(),kt=x(St);W(()=>{v(St,"transform",`rotate(${t(M),u(()=>t(M).rotation||0)??""}, ${t(M),u(()=>t(M).x)??""}, ${t(M),u(()=>t(M).y)??""})`),v(kt,"x",(t(M),u(()=>t(M).x-(t(M).customWidth/2+J)))),v(kt,"y",(t(M),u(()=>t(M).y-(t(M).customHeight/2+J)))),v(kt,"width",(t(M),u(()=>t(M).customWidth+2*J))),v(kt,"height",(t(M),u(()=>t(M).customHeight+2*J)))}),b(tt,St)},$t=tt=>{var St=et(),kt=me(St);{var Hn=Mt=>{var ft=fc(),Qt=x(ft);W(()=>{v(ft,"transform",`rotate(${t(M),u(()=>t(M).rotation||0)??""}, ${t(M),u(()=>t(M).x)??""}, ${t(M),u(()=>t(M).y)??""})`),v(Qt,"cx",(t(M),u(()=>t(M).x))),v(Qt,"cy",(t(M),u(()=>t(M).y))),v(Qt,"rx",(j(t(ve)),u(()=>t(ve).width/2+J))),v(Qt,"ry",(j(t(ve)),u(()=>t(ve).height/2+J)))}),b(Mt,ft)},Bn=Mt=>{var ft=vc();W(()=>{v(ft,"cx",(t(M),u(()=>t(M).x))),v(ft,"cy",(t(M),u(()=>t(M).y))),v(ft,"r",(j(t(ve)),u(()=>t(ve).radius+J)))}),b(Mt,ft)};ce(kt,Mt=>{t(dt)?Mt(Hn):Mt(Bn,!1)},!0)}b(tt,St)};ce(Ae,tt=>{t(Lt)?tt(Be):tt($t,!1)})}b(Ke,Pe)}),b(we,B)};ce(Ye,we=>{t(he)&&we(Ve)})}var We=p(Ye);{var pt=we=>{var B=et(),Qe=me(B);Le(Qe,1,f,Ke=>Ke.id,(Ke,M)=>{const ve=Xe(()=>(j(tr),t(M),u(()=>tr(t(M).baseType,t(M))))),dt=Xe(()=>(j(rr),t(M),u(()=>rr(t(M).baseType)))),Lt=Xe(()=>(j(Mr),t(M),u(()=>Mr(t(M).baseType))));var Pe=et(),Ae=me(Pe);{var Be=tt=>{var St=hc(),kt=x(St);W(()=>{v(St,"transform",`rotate(${t(M),u(()=>t(M).rotation||0)??""}, ${t(M),u(()=>t(M).x)??""}, ${t(M),u(()=>t(M).y)??""})`),v(kt,"x",(t(M),u(()=>t(M).x-(t(M).customWidth/2+J)))),v(kt,"y",(t(M),u(()=>t(M).y-(t(M).customHeight/2+J)))),v(kt,"width",(t(M),u(()=>t(M).customWidth+2*J))),v(kt,"height",(t(M),u(()=>t(M).customHeight+2*J)))}),b(tt,St)},$t=tt=>{var St=et(),kt=me(St);{var Hn=Mt=>{var ft=yc(),Qt=x(ft);W(()=>{v(ft,"transform",`rotate(${t(M),u(()=>t(M).rotation||0)??""}, ${t(M),u(()=>t(M).x)??""}, ${t(M),u(()=>t(M).y)??""})`),v(Qt,"cx",(t(M),u(()=>t(M).x))),v(Qt,"cy",(t(M),u(()=>t(M).y))),v(Qt,"rx",(j(t(ve)),u(()=>t(ve).width/2+J))),v(Qt,"ry",(j(t(ve)),u(()=>t(ve).height/2+J)))}),b(Mt,ft)},Bn=Mt=>{var ft=gc();W(()=>{v(ft,"cx",(t(M),u(()=>t(M).x))),v(ft,"cy",(t(M),u(()=>t(M).y))),v(ft,"r",(j(t(ve)),u(()=>t(ve).radius+J)))}),b(Mt,ft)};ce(kt,Mt=>{t(dt)?Mt(Hn):Mt(Bn,!1)},!0)}b(tt,St)};ce(Ae,tt=>{t(Lt)?tt(Be):tt($t,!1)})}b(Ke,Pe)}),b(we,B)};ce(We,we=>{t(ae)&&we(pt)})}var mt=p(We);Le(mt,1,()=>(c(),u(()=>c().terrains)),Ne,(we,B)=>{var Qe=pc(),Ke=x(Qe);W(()=>{v(Qe,"transform",`rotate(${t(B),u(()=>t(B).rotation)??""}, ${t(B),u(()=>t(B).x+t(B).width/2)??""}, ${t(B),u(()=>t(B).y+t(B).height/2)??""})`),v(Ke,"x",(t(B),u(()=>t(B).x))),v(Ke,"y",(t(B),u(()=>t(B).y))),v(Ke,"width",(t(B),u(()=>t(B).width))),v(Ke,"height",(t(B),u(()=>t(B).height)))}),b(we,Qe)});var ze=p(mt);Le(ze,1,()=>(c(),u(()=>c().walls)),Ne,(we,B)=>{var Qe=xc(),Ke=x(Qe);xa(Ke,{get id(){return t(B),u(()=>t(B).id)},get x(){return t(B),u(()=>t(B).x)},get y(){return t(B),u(()=>t(B).y)},get shape(){return t(B),u(()=>t(B).shape)},get rotation(){return t(B),u(()=>t(B).rotation)},selected:!1,get screenToSvg(){return t(O)},onSelect:()=>{},onDrag:()=>{},onRotate:()=>{}}),b(we,Qe)});var He=p(ze);Le(He,1,s,we=>we.id,(we,B)=>{{let Qe=Xe(()=>(t(B),u(()=>t(B).name||""))),Ke=Xe(()=>(t(B),o(),u(()=>t(B).id===o())));An(we,{get id(){return t(B),u(()=>t(B).id)},get x(){return t(B),u(()=>t(B).x)},get y(){return t(B),u(()=>t(B).y)},get baseType(){return t(B),u(()=>t(B).baseType)},get playerId(){return t(B),u(()=>t(B).playerId)},get rotation(){return t(B),u(()=>t(B).rotation)},get name(){return t(Qe)},get customWidth(){return t(B),u(()=>t(B).customWidth)},get customHeight(){return t(B),u(()=>t(B).customHeight)},get selected(){return t(Ke)},get screenToSvg(){return t(O)},onSelect:Me,onDrag:Ie,onDragEnd:rt,onRotate:re,onRotateEnd:K,onRename:xe})}});var Ue=p(He);{var it=we=>{An(we,{id:"phantom",get x(){return t(C),u(()=>t(C).x)},get y(){return t(C),u(()=>t(C).y)},get baseType(){return t(C),u(()=>t(C).baseType)},get playerId(){return t(T)},rotation:0,get customWidth(){return t(C),u(()=>t(C).customWidth)},get customHeight(){return t(C),u(()=>t(C).customHeight)},selected:!1,get screenToSvg(){return t(O)},onSelect:()=>{},onDrag:()=>{},onRotate:()=>{}})};ce(Ue,we=>{t(C)&&we(it)})}var Ft=p(Ue);{var vr=we=>{var B=et(),Qe=me(B);Le(Qe,1,()=>t(L),Ne,(Ke,M)=>{var ve=et(),dt=me(ve);Le(dt,1,()=>(t(M),u(()=>t(M).rays)),Ne,(Lt,Pe)=>{var Ae=_c();W(()=>{v(Ae,"x1",(t(Pe),u(()=>t(Pe).from.x))),v(Ae,"y1",(t(Pe),u(()=>t(Pe).from.y))),v(Ae,"x2",(t(Pe),u(()=>t(Pe).to.x))),v(Ae,"y2",(t(Pe),u(()=>t(Pe).to.y))),v(Ae,"stroke",(t(Pe),u(()=>t(Pe).blocked?"#ff000033":"#00ff0033")))}),b(Lt,Ae)}),b(Ke,ve)}),b(we,B)};ce(Ft,we=>{t(N),t(oe),t(h),t(L),u(()=>t(N)&&t(oe)&&t(h)&&t(L).length>0)&&we(vr)})}var Jt=p(Ft);{var Sr=we=>{var B=et(),Qe=me(B);Le(Qe,1,()=>t(L),Ne,(Ke,M)=>{var ve=et(),dt=me(ve);{var Lt=Ae=>{var Be=mc();W(()=>{v(Be,"x1",(t(M),u(()=>t(M).firstClearRay.from.x))),v(Be,"y1",(t(M),u(()=>t(M).firstClearRay.from.y))),v(Be,"x2",(t(M),u(()=>t(M).firstClearRay.to.x))),v(Be,"y2",(t(M),u(()=>t(M).firstClearRay.to.y)))}),b(Ae,Be)},Pe=Ae=>{var Be=bc();W(()=>{v(Be,"x1",(t(h),u(()=>t(h).x))),v(Be,"y1",(t(h),u(()=>t(h).y))),v(Be,"x2",(t(M),u(()=>t(M).target.x))),v(Be,"y2",(t(M),u(()=>t(M).target.y)))}),b(Ae,Be)};ce(dt,Ae=>{t(M),u(()=>t(M).firstClearRay)?Ae(Lt):Ae(Pe,!1)})}b(Ke,ve)}),b(we,B)};ce(Jt,we=>{t(oe),t(h),t(L),u(()=>t(oe)&&t(h)&&t(L).length>0)&&we(Sr)})}b(g,I)}}});var U=p(Se,2),H=x(U),z=x(H);W(()=>Ee(z,`Battlefield: 60" x 44" | ${d(),u(()=>d().length)??""} P1 models | ${f(),u(()=>f().length)??""} P2 models`)),X("click",Se,Z),b(e,Ze),Yt(),_()}var kc=se("<span> </span>"),Mc=se('<span class="los-status svelte-12aohay">No enemies</span>'),Ec=se('<div class="controls svelte-12aohay"><label class="svelte-12aohay"><input type="checkbox" class="svelte-12aohay"/> Show debug rays</label> <!></div>'),Tc=se('<button class="svelte-12aohay"> </button>'),Pc=se('<div class="button-group svelte-12aohay"></div>'),$c=se('<button class="svelte-12aohay"> </button>'),Dc=se('<div class="button-group svelte-12aohay"></div>'),Rc=se('<div class="player-toggle svelte-12aohay"><button>Player 1</button> <button>Player 2</button></div> <div class="base-palette svelte-12aohay"><div class="palette-section svelte-12aohay"><h4 class="svelte-12aohay">Circles</h4> <div class="palette-grid svelte-12aohay"></div></div> <div class="palette-section svelte-12aohay"><h4 class="svelte-12aohay">Ovals</h4> <div class="palette-grid svelte-12aohay"></div></div></div>',1),Ac=ue('<line stroke-width="0.05"></line>'),Cc=ue('<line stroke="#22c55e" stroke-width="0.15" opacity="0.7" pointer-events="none"></line>'),Ic=ue('<line stroke="#ef4444" stroke-width="0.1" stroke-dasharray="0.5 0.25" opacity="0.7" pointer-events="none"></line>'),Oc=ue("<!><!><!><!><!><!><!>",1),Nc=se('<p class="svelte-12aohay"> </p>'),Wc=se('<main class="svelte-12aohay"><div class="header svelte-12aohay"><h1 class="svelte-12aohay">Debug Mode</h1> <nav class="nav-links svelte-12aohay"><a href="#/setup" class="svelte-12aohay">Battlefield Setup</a> <a href="#/deployment" class="svelte-12aohay">Deployment</a> <a href="#/" class="svelte-12aohay">Layout Builder</a> <a href="#/debug" class="active svelte-12aohay">Debug Mode</a></nav></div> <div class="layout svelte-12aohay"><div class="sidebar svelte-12aohay"><!> <!> <!> <!></div> <div class="battlefield-area svelte-12aohay"><div class="battlefield-container svelte-12aohay"><!></div> <div class="info svelte-12aohay"><p class="svelte-12aohay"> </p> <!> <p class="hint svelte-12aohay">Scroll to zoom | Space+drag to pan | Double-click to reset view</p></div></div></div></main>');function jc(e,r){jt(r,!1);const n=()=>qe(pr,"$debugModels",d),a=()=>qe(kr,"$debugSelectedModelId",d),i=()=>qe(bn,"$debugTerrains",d),s=()=>qe(wn,"$debugWalls",d),o=()=>qe(Wa,"$debugMode",d),c=()=>qe(Ln,"$debugSelectedTerrainId",d),l=()=>qe(Sn,"$debugSelectedWallId",d),[d,f]=jn(),y=D(),_=D(),h=D(),S=D(),E=D();function w(R,$){bn.add(R,$)}function L(R){wn.add(R)}function T(R){Ln.set(R),Sn.set(null),kr.set(null)}function C(R){Sn.set(R),Ln.set(null),kr.set(null)}function G(R,$,F){bn.updateTerrain(R,{x:$,y:F})}function ne(R,$,F){wn.updateWall(R,{x:$,y:F})}function ke(R,$){bn.updateTerrain(R,{rotation:$})}function oe(R,$){wn.updateWall(R,{rotation:$})}let N=D(1),he=D(null),ae=!1,$e=null,Re=D(null);const Ge=5;tn(()=>{if(n().length===0){const R=pr.add("32mm",1,10,22);pr.add("32mm",2,50,22),kr.set(R)}});function J(R,$){if(!t(Re))return;ae=!0,$e={x:$.clientX,y:$.clientY};const F=t(Re)($.clientX,$.clientY);m(he,{baseType:R.type,x:F.x,y:F.y}),window.addEventListener("mousemove",de),window.addEventListener("mouseup",fe)}function de(R){if(!ae||!t(he)||!t(Re))return;const $=t(Re)(R.clientX,R.clientY);m(he,{...t(he),x:$.x,y:$.y})}function fe(R){if(!ae||!t(he)){ae=!1,m(he,null),$e=null,window.removeEventListener("mousemove",de),window.removeEventListener("mouseup",fe);return}const $=R.clientX-$e.x,F=R.clientY-$e.y,le=Math.sqrt($*$+F*F);let Se,k;le<Ge?(Se=30,k=22):(Se=t(he).x,k=t(he).y);const U=pr.add(t(he).baseType,t(N),Se,k);kr.set(U),m(he,null),ae=!1,$e=null,window.removeEventListener("mousemove",de),window.removeEventListener("mouseup",fe)}function Te(R){kr.set(R),Ln.set(null),Sn.set(null)}function q(R,$,F){pr.updateModel(R,{x:$,y:F},!0)}function ye(R,$,F,le,Se){ra.push({type:"move",modelId:R,before:{x:$,y:F},after:{x:le,y:Se}})}function Z(R,$){pr.updateModel(R,{rotation:$},!0)}function ie(R,$,F){ra.push({type:"rotate",modelId:R,before:{rotation:$},after:{rotation:F}})}function pe(R,$){pr.updateModel(R,{name:$})}function te(R){const $=tr(R.baseType);return rr(R.baseType)?{x:R.x,y:R.y,rx:$.width/2,ry:$.height/2,rotation:R.rotation||0}:{x:R.x,y:R.y,radius:$.radius}}ee(()=>(n(),a()),()=>{m(y,n().find(R=>R.id===a()))}),ee(()=>(t(y),n()),()=>{m(_,t(y)?n().filter(R=>R.playerId!==t(y).playerId):[])}),ee(()=>(i(),vn),()=>{m(h,i().map(R=>({id:R.id,vertices:vn(R)})))}),ee(()=>(s(),Vr),()=>{m(S,s().map(R=>ga(Vr(R.shape),R.x,R.y,R.rotation)))}),ee(()=>(t(y),t(_),t(h),t(S)),()=>{m(E,t(y)&&t(_).length>0?t(_).map(R=>{const $=Ii(te(t(y)),te(R),t(h),t(S));return{targetId:R.id,target:R,canSee:$.canSee,firstClearRay:$.firstClearRay,rays:$.rays}}):[])}),wr(),Gt();var be=Wc(),Me=p(x(be),2),Ie=x(Me),rt=x(Ie);gt(rt,{title:"LOS Debug",children:(R,$)=>{var F=Ec(),le=x(F),Se=x(le),k=p(le,2);{var U=z=>{var g=kc();let A;var O=x(g);W((I,V)=>{A=Zt(g,1,"los-status svelte-12aohay",null,A,I),Ee(O,`${V??""}/${t(E),u(()=>t(E).length)??""} visible`)},[()=>({"can-see":t(E).some(I=>I.canSee),blocked:!t(E).some(I=>I.canSee)}),()=>(t(E),u(()=>t(E).filter(I=>I.canSee).length))]),b(z,g)},H=z=>{var g=Mc();b(z,g)};ce(k,z=>{t(y),t(E),u(()=>t(y)&&t(E).length>0)?z(U):z(H,!1)})}an(Se,o,z=>_o(Wa,z)),b(R,F)},$$slots:{default:!0}});var re=p(rt,2);gt(re,{title:"Add Terrain",defaultOpen:!1,children:(R,$)=>{var F=Pc();Le(F,5,()=>ji,Ne,(le,Se)=>{var k=Tc(),U=x(k);W(()=>Ee(U,(t(Se),u(()=>t(Se).label)))),X("click",k,()=>w(t(Se).width,t(Se).height)),b(le,k)}),b(R,F)},$$slots:{default:!0}});var K=p(re,2);gt(K,{title:"Add Wall",defaultOpen:!1,children:(R,$)=>{var F=Dc();Le(F,5,()=>ea,Ne,(le,Se)=>{var k=$c(),U=x(k);W(()=>Ee(U,(t(Se),u(()=>t(Se).label)))),X("click",k,()=>L(t(Se).shape)),b(le,k)}),b(R,F)},$$slots:{default:!0}});var xe=p(K,2);gt(xe,{title:"Add Models",defaultOpen:!1,children:(R,$)=>{var F=Rc(),le=me(F),Se=x(le);let k;var U=p(Se,2);let H;var z=p(le,2),g=x(z),A=p(x(g),2);Le(A,5,()=>(j(Wt),u(()=>Wt.circles)),Ne,(V,De)=>{Cn(V,{get baseSize(){return t(De)},get playerId(){return t(N)},onDragStart:J})});var O=p(g,2),I=p(x(O),2);Le(I,5,()=>(j(Wt),u(()=>Wt.ovals)),Ne,(V,De)=>{Cn(V,{get baseSize(){return t(De)},get playerId(){return t(N)},onDragStart:J})}),W(()=>{k=Zt(Se,1,"toggle-btn svelte-12aohay",null,k,{active:t(N)===1}),H=Zt(U,1,"toggle-btn svelte-12aohay",null,H,{active:t(N)===2})}),X("click",Se,()=>m(N,1)),X("click",U,()=>m(N,2)),b(R,F)},$$slots:{default:!0}});var Y=p(Ie,2),nt=x(Y),at=x(nt);Yn(at,{children:la,$$slots:{default:(R,$)=>{const F=Xe(()=>$.screenToSvg);var le=Oc(),Se=me(le);{var k=Q=>{var P=Ti();W(()=>Ee(P,(t(Re),j(t(F)),u(()=>(m(Re,t(F)),""))))),b(Q,P)};ce(Se,Q=>{t(F)&&!t(Re)&&Q(k)})}var U=p(Se);{var H=Q=>{var P=et(),Ye=me(P);Le(Ye,1,()=>t(E),Ne,(Ve,We)=>{var pt=et(),mt=me(pt);Le(mt,1,()=>(t(We),u(()=>t(We).rays)),Ne,(ze,He)=>{var Ue=Ac();W(()=>{v(Ue,"x1",(t(He),u(()=>t(He).from.x))),v(Ue,"y1",(t(He),u(()=>t(He).from.y))),v(Ue,"x2",(t(He),u(()=>t(He).to.x))),v(Ue,"y2",(t(He),u(()=>t(He).to.y))),v(Ue,"stroke",(t(He),u(()=>t(He).blocked?"#ff000033":"#00ff0033")))}),b(ze,Ue)}),b(Ve,pt)}),b(Q,P)};ce(U,Q=>{o(),t(y),t(E),u(()=>o()&&t(y)&&t(E).length>0)&&Q(H)})}var z=p(U);Le(z,1,i,Q=>Q.id,(Q,P)=>{{let Ye=Xe(()=>(t(P),c(),u(()=>t(P).id===c())));Ni(Q,{get id(){return t(P),u(()=>t(P).id)},get x(){return t(P),u(()=>t(P).x)},get y(){return t(P),u(()=>t(P).y)},get width(){return t(P),u(()=>t(P).width)},get height(){return t(P),u(()=>t(P).height)},get rotation(){return t(P),u(()=>t(P).rotation)},get selected(){return t(Ye)},get screenToSvg(){return t(F)},onSelect:T,onDrag:G,onRotate:ke})}});var g=p(z);Le(g,1,s,Q=>Q.id,(Q,P)=>{{let Ye=Xe(()=>(t(P),l(),u(()=>t(P).id===l())));xa(Q,{get id(){return t(P),u(()=>t(P).id)},get x(){return t(P),u(()=>t(P).x)},get y(){return t(P),u(()=>t(P).y)},get shape(){return t(P),u(()=>t(P).shape)},get rotation(){return t(P),u(()=>t(P).rotation)},get selected(){return t(Ye)},get screenToSvg(){return t(F)},onSelect:C,onDrag:ne,onRotate:oe})}});var A=p(g);Le(A,1,n,Q=>Q.id,(Q,P)=>{{let Ye=Xe(()=>(t(P),u(()=>t(P).name||""))),Ve=Xe(()=>(t(P),a(),u(()=>t(P).id===a())));An(Q,{get id(){return t(P),u(()=>t(P).id)},get x(){return t(P),u(()=>t(P).x)},get y(){return t(P),u(()=>t(P).y)},get baseType(){return t(P),u(()=>t(P).baseType)},get playerId(){return t(P),u(()=>t(P).playerId)},get rotation(){return t(P),u(()=>t(P).rotation)},get name(){return t(Ye)},get selected(){return t(Ve)},get screenToSvg(){return t(F)},onSelect:Te,onDrag:q,onDragEnd:ye,onRotate:Z,onRotateEnd:ie,onRename:pe})}});var O=p(A);{var I=Q=>{var P=et(),Ye=me(P);Le(Ye,1,()=>t(E),Ne,(Ve,We)=>{var pt=et(),mt=me(pt);{var ze=Ue=>{var it=Cc();W(()=>{v(it,"x1",(t(We),u(()=>t(We).firstClearRay.from.x))),v(it,"y1",(t(We),u(()=>t(We).firstClearRay.from.y))),v(it,"x2",(t(We),u(()=>t(We).firstClearRay.to.x))),v(it,"y2",(t(We),u(()=>t(We).firstClearRay.to.y)))}),b(Ue,it)},He=Ue=>{var it=Ic();W(()=>{v(it,"x1",(t(y),u(()=>t(y).x))),v(it,"y1",(t(y),u(()=>t(y).y))),v(it,"x2",(t(We),u(()=>t(We).target.x))),v(it,"y2",(t(We),u(()=>t(We).target.y)))}),b(Ue,it)};ce(mt,Ue=>{t(We),u(()=>t(We).firstClearRay)?Ue(ze):Ue(He,!1)})}b(Ve,pt)}),b(Q,P)};ce(O,Q=>{o(),t(y),t(E),u(()=>o()&&t(y)&&t(E).length>0)&&Q(I)})}var V=p(O);{var De=Q=>{An(Q,{id:"phantom",get x(){return t(he),u(()=>t(he).x)},get y(){return t(he),u(()=>t(he).y)},get baseType(){return t(he),u(()=>t(he).baseType)},get playerId(){return t(N)},rotation:0,selected:!1,get screenToSvg(){return t(F)},onSelect:()=>{},onDrag:()=>{},onRotate:()=>{}})};ce(V,Q=>{t(he)&&Q(De)})}b(R,le)}}});var Ze=p(nt,2),Oe=x(Ze),ot=x(Oe),Ht=p(Oe,2);{var Bt=R=>{var $=Nc(),F=x($);W(le=>Ee(F,`Selected model LOS: ${le??""}/${t(E),u(()=>t(E).length)??""} visible`),[()=>(t(E),u(()=>t(E).filter(le=>le.canSee).length))]),b(R,$)};ce(Ht,R=>{o(),t(y),t(E),u(()=>o()&&t(y)&&t(E).length>0)&&R(Bt)})}W(()=>Ee(ot,`Battlefield: 60" x 44" | ${i(),u(()=>i().length)??""} terrain | ${s(),u(()=>s().length)??""} walls | ${n(),u(()=>n().length)??""} models`)),b(e,be),Yt(),f()}function Yc(e,r){jt(r,!1);let n=D("main");function a(){const l=window.location.hash;l==="#/debug"?m(n,"debug"):l==="#/setup"?m(n,"setup"):l==="#/deployment"?m(n,"deployment"):m(n,"setup")}tn(()=>(a(),window.addEventListener("hashchange",a),()=>window.removeEventListener("hashchange",a))),Gt();var i=et(),s=me(i);{var o=l=>{jc(l,{})},c=l=>{var d=et(),f=me(d);{var y=h=>{Yl(h,{})},_=h=>{var S=et(),E=me(S);{var w=T=>{Sc(T,{})},L=T=>{xl(T,{})};ce(E,T=>{t(n)==="deployment"?T(w):T(L,!1)},!0)}b(h,S)};ce(f,h=>{t(n)==="setup"?h(y):h(_,!1)},!0)}b(l,d)};ce(s,l=>{t(n)==="debug"?l(o):l(c,!1)})}b(e,i),Yt()}ro(Yc,{target:document.getElementById("app")});
//# sourceMappingURL=index-CwamLsTk.js.map
